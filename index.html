<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üîÆ Numerus</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            background-image: url('background.png');
            background-size: cover;
            color: white;
            text-align: center;
            margin: 0;
            padding: 0;
        }
        .container {
            max-width: 800px;
            margin: 50px auto;
            padding: 20px;
            background: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
        }
        input, select, button {
            padding: 10px;
            margin: 5px;
            width: 100%;
        }
        .result {
            display: grid;
            grid-template-columns: repeat(3, 1fr); /* M·∫∑c ƒë·ªãnh PC: 3 c·ªôt */
            gap: 10px;
            margin-top: 20px;
            padding: 10px;
            background: transparent;
            border-radius: 10px;
        }

        .result-item {
            padding: 10px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 0 5px rgba(0, 0, 0, 0.3);
        }

        /* Mobile: 4-5 c·ªôt khi m√†n h√¨nh nh·ªè */
        @media (max-width: 768px) {
            .result {
                grid-template-columns: repeat(4, 1fr); /* 4 c·ªôt cho mobile */
            }
        }

        /* ƒêi·ªán tho·∫°i nh·ªè h∆°n: 2-3 c·ªôt */
        @media (max-width: 480px) {
            .result {
                grid-template-columns: repeat(4, 1fr); /* 2 c·ªôt cho ƒëi·ªán tho·∫°i nh·ªè */
            }
        }

        .current-date-container {
            display: flex;
            gap: 10px;
            justify-content: center;
            align-items: center;
            margin-top: 10px;
        }
        .current-date-container select {
            flex: 1;
            min-width: 100px;
            padding: 10px;
            border-radius: 10px;
            text-align: center;
        }
        .tooltip {
            position: relative;
            display: inline-block;
            cursor: pointer;
        }

        .tooltip .tooltip-text {
            visibility: hidden;
            width: 250px;
            background-color: rgba(0, 0, 0, 0.8);
            color: #fff;
            text-align: center;
            padding: 10px;
            border-radius: 10px;
            position: absolute;
            z-index: 100;
            bottom: 120%;
            left: 50%;
            transform: translateX(-50%);
            opacity: 0;
            transition: opacity 0.3s;
        }

        .tooltip:hover .tooltip-text {
            visibility: visible;
            opacity: 1;
        }
        /* N√∫t h·ªèi ƒë√°p */
        #chat-button {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background-color: #c064e1;
            color: white;
            padding: 10px 20px;
            border-radius: 25px;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 1000;
        }

        #chat-button:hover {
            background-color: #efefef;
        }

        /* Khung chat */
        #chat-box {
            position: fixed;
            bottom: 80px;
            right: 20px;
            width: 300px;
            height: 400px;
            background-color: rgb(205, 96, 241);
            border-radius: 10px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            display: none;
            flex-direction: column;
            z-index: 1000;
        }

        #chat-header {
            background-color: #cd72e6;
            color: white;
            padding: 10px;
            border-top-left-radius: 10px;
            border-top-right-radius: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        #close-chat {
            background: none;
            border: none;
            color: white;
            font-size: 20px;
            cursor: pointer;
            position: absolute;
        }

        #chat-body {
            flex: 1;
            padding: 10px;
            overflow-y: auto;
            background-color: #f9f9f9;
        }

        #chat-messages {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .message {
            padding: 8px 12px;
            border-radius: 10px;
            max-width: 80%;
        }

        .message.user {
            background-color: #c47bf8;
            color: white;
            align-self: flex-end;
        }

        .message.bot {
            background-color: #e1e1e1;
            color: black;
            align-self: flex-start;
        }

        #chat-input-container {
            display: flex;
            padding: 10px;
            background-color: #fff;
            border-top: 1px solid #ddd;
            border-bottom-left-radius: 10px;
            border-bottom-right-radius: 10px;
        }

        #chat-input {
            flex: 1;
            padding: 12px;
            font-size: 16px;
            border: 1px solid #ddd;
            border-radius: 5px;
            outline: none;
        }

        #send-button {
            margin-left: 10px;
            padding: 8px 12px;
            font-size: 14px;
            background-color: #b37aef;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            width: 60px;
        }

        #send-button:hover {
            background-color: #f7f7f7;
        }
        /* N√∫t Messenger */
        #messenger-button {
            position: fixed;
            bottom: 80px;
            right: 20px;
            background-color: #ffffff;
            color: white;
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
        }

        #messenger-button:hover {
            background-color: #ad65e5;
        }
        /* N√∫t zalo */
        #zalo-button {
            position: fixed;
            bottom: 140px;
            right: 20px;
            background-color: #ffffff;
            color: white;
            padding: 10px;
            border-radius: 50%;
            cursor: pointer;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            z-index: 1000;
            display: flex;
            align-items: center;
            justify-content: center;
            text-decoration: none;
        }

        #zalo-button:hover {
            background-color: #ad65e5;
        }
        /* Detailed view styles */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.8);
            z-index: 2000;
            display: none;
            justify-content: center;
            align-items: center;
            overflow-y: auto;
        }

        .modal-content {
            background: rgba(25, 25, 30, 0.95);
            width: 90%;
            max-width: 1200px;
            max-height: 90vh;
            overflow-y: auto;
            border-radius: 15px;
            padding: 20px;
            position: relative;
            box-shadow: 0 0 30px rgba(138, 43, 226, 0.7);
            border: 1px solid rgba(138, 43, 226, 0.5);
        }

        .close-modal {
            position: absolute;
            top: 15px;
            right: 15px;
            font-size: 24px;
            background: none;
            border: none;
            color: white;
            cursor: pointer;
        }

        .detailed-tabs {
            display: flex;
            margin-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            overflow-x: auto;
        }

        .tab-button {
            background: transparent;
            border: none;
            color: white;
            padding: 10px 20px;
            cursor: pointer;
            opacity: 0.6;
            transition: all 0.3s ease;
            white-space: nowrap;
        }

        .tab-button.active {
            opacity: 1;
            border-bottom: 3px solid #b37aef;
        }

        .tab-content {
            display: none;
            padding: 20px;
            background: rgba(0, 0, 0, 0.3);
            border-radius: 10px;
        }

        .tab-content.active {
            display: block;
            animation: fadeIn 0.5s ease;
        }

        .number-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 20px;
            margin-top: 20px;
        }

        .number-card {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            padding: 15px;
            text-align: left;
            transition: all 0.3s ease;
        }

        .number-card:hover {
            background: rgba(138, 43, 226, 0.3);
            transform: translateY(-5px);
        }

        .number-card h3 {
            margin-top: 0;
            color: #b37aef;
            border-bottom: 1px solid rgba(255, 255, 255, 0.2);
            padding-bottom: 5px;
        }

        .chart-container {
            height: 300px;
            margin: 20px 0;
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Ph·∫ßn kim t·ª± th√°p m·ªõi */
        .pyramid {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 10px;
            margin: 20px 0;
        }
        
        .pyramid-row {
            display: flex;
            justify-content: center;
            gap: 20px;
        }
        
        .pyramid-cell {
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 50%;
            font-weight: bold;
            font-size: 12px;
            transition: all 0.3s ease;
        }
        
        .pyramid-cell.active {
            background: rgba(138, 43, 226, 0.6);
            transform: scale(1.1);
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        /* Responsive adjustments */
        @media (max-width: 768px) {
            .number-grid {
                grid-template-columns: repeat(2, 1fr);
            }
        }

        @media (max-width: 480px) {
            .number-grid {
                grid-template-columns: 1fr;
            }
            
            .pyramid {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        /* Header Navigation */
        .header {
            background: rgba(255, 255, 255, 0.8);
            padding: 15px 0;
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header .logo {
            display: flex;
            align-items: center;
            margin-left: 20px;
        }

        .header .logo img {
            width: 100px;
            height: 100px;
            margin-right: 10px;
        }

        .header .logo span {
            font-size: 20px;
            font-weight: bold;
            background: linear-gradient(90deg, #f3cb73, white, #f3cb73);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .header .nav-menu {
            display: flex;
            gap: 20px;
            margin-right: 20px;
        }

        .header .nav-menu a {
            color: rgb(0, 0, 0);
            text-decoration: none;
            font-size: 16px;
            transition: color 0.3s ease;
        }

        .header .nav-menu a:hover {
            background: linear-gradient(90deg, #f3cb73, white, #f3cb73);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .header .nav-menu .dropdown {
            position: relative;
            display: inline-block;
        }

        .header .nav-menu .dropdown-content {
            display: none;
            position: absolute;
            background-color: rgba(0, 0, 0, 0.9);
            min-width: 160px;
            box-shadow: 0px 8px 16px 0px rgba(0,0,0,0.2);
            z-index: 1;
        }

        .header .nav-menu .dropdown:hover .dropdown-content {
            display: block;
        }

        .header .nav-menu .dropdown-content a {
            color: white;
            padding: 12px 16px;
            text-decoration: none;
            display: block;
            text-align: left;
        }

        .header .nav-menu .dropdown-content a:hover {
            background: linear-gradient(90deg, #f3cb73, white, #f3cb73);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .header .nav-menu .search-icon {
            font-size: 18px;
        }

        /* Container */
        .container {
            max-width: 1200px;
            margin: 80px auto 50px auto;
            padding: 20px;
        }

        /* Tab Content */
        .tab-content {
            display: none;
        }

        .tab-content.active {
            display: block;
        }

        /* Intro Section Styling */
        .intro-content {
            background: rgba(0, 0, 0, 0.7);
            border-radius: 10px;
            padding: 30px;
            box-shadow: 0 0 10px rgba(0, 0, 0, 0.5);
            text-align: left;
            max-width: 800px;
            margin: 0 auto;
        }

        .intro-content h1 {
            font-size: 28px;
            background: linear-gradient(90deg, #f3cb73, white, #f3cb73);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            text-align: center;
            margin-bottom: 10px;
        }

        .intro-content h3 {
            font-size: 20px;
            color: #fff;
            text-align: center;
            margin-bottom: 20px;
        }

        .intro-content h4 {
            font-size: 18px;
            background: linear-gradient(90deg, #f3cb73, white, #f3cb73);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-top: 20px;
            margin-bottom: 10px;
        }

        .intro-content p {
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .intro-content ul {
            padding-left: 20px;
            margin-bottom: 20px;
        }

        .intro-content ul li {
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 10px;
        }

        .intro-content .register-btn {
            display: inline-block;
            background: linear-gradient(90deg, #f3cb73, white, #f3cb73);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            color: white;
            padding: 12px 24px;
            border-radius: 25px;
            text-decoration: none;
            font-weight: bold;
            margin: 20px 0;
            transition: background-color 0.3s ease;
        }

        .intro-content .register-btn:hover {
            background: linear-gradient(90deg, #f3cb73, white, #f3cb73);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        .link {
            background: linear-gradient(90deg, #f3cb73, white, #f3cb73);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        /* Responsive Header for Mobile */
        @media (max-width: 768px) {
            .header {
                flex-direction: column;
                padding: 10px 0;
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
            }

            .header .logo {
                margin: 0;
                padding: 10px;
                justify-content: center;
            }

            .header .logo img {
                width: 80px;
                height: 80px;
            }

            .header .logo span {
                font-size: 18px;
            }

            .header .nav-menu {
                display: none; /* Hide menu by default on mobile */
                flex-direction: column;
                width: 100%;
                background: rgba(255, 255, 255, 0.95);
                margin: 0;
                padding: 10px 0;
                text-align: center;
            }

            .header .nav-menu.active {
                display: flex; /* Show menu when active */
            }

            .header .nav-menu a {
                padding: 10px 0;
                font-size: 14px;
                color: #000;
            }

            .header .nav-menu .dropdown {
                position: static;
            }

            .header .nav-menu .dropdown-content {
                position: static;
                width: 100%;
                background: rgba(0, 0, 0, 0.8);
                box-shadow: none;
                padding: 10px 0;
            }

            .header .nav-menu .dropdown-content a {
                padding: 8px 0;
                font-size: 14px;
            }

            /* Hamburger Menu Icon */
            .hamburger {
                display: block;
                position: absolute;
                top: 15px;
                right: 15px;
                font-size: 24px;
                cursor: pointer;
                color: #000;
                background: none;
                border: none;
            }

            /* Hide hamburger on desktop */
            @media (min-width: 769px) {
                .hamburger {
                    display: none;
                }

                .header .nav-menu {
                    display: flex;
                }
            }
        }
        /* Responsive Tab Content for Mobile */
        @media (max-width: 768px) {
            .container {
                margin: 100px 10px 20px; /* Adjust margin for mobile, account for fixed header */
                padding: 10px;
                max-width: 100%;
            }

            .intro-content {
                padding: 15px;
                margin: 0 5px;
            }

            .intro-content h1 {
                font-size: 22px;
                line-height: 1.4;
            }

            .intro-content h3 {
                font-size: 16px;
            }

            .intro-content h4 {
                font-size: 16px;
                margin-top: 15px;
            }

            .intro-content p,
            .intro-content ul li {
                font-size: 14px;
                line-height: 1.5;
            }

            .intro-content .register-btn {
                padding: 10px 20px;
                font-size: 14px;
            }

            /* Numerology Section */
            .numerology-content h1 {
                font-size: 24px;
            }

            .numerology-content input,
            .numerology-content select,
            .numerology-content button {
                padding: 8px;
                font-size: 14px;
                margin: 5px 0;
            }

            .current-date-container {
                flex-direction: column;
                gap: 5px;
            }

            .current-date-container select,
            .current-date-container input {
                width: 100%;
                min-width: unset;
                padding: 8px;
                font-size: 14px;
            }

            .result {
                grid-template-columns: repeat(2, 1fr); /* 2 columns for tablets */
                gap: 8px;
                padding: 5px;
            }

            .result-item {
                padding: 8px;
                font-size: 14px;
            }

            /* Smaller phones */
            @media (max-width: 480px) {
                .container {
                    margin: 80px 5px 10px;
                    padding: 5px;
                }

                .intro-content {
                    padding: 10px;
                }

                .intro-content h1 {
                    font-size: 18px;
                }

                .intro-content h3 {
                    font-size: 14px;
                }

                .intro-content h4 {
                    font-size: 14px;
                }

                .intro-content p,
                .intro-content ul li {
                    font-size: 12px;
                }

                .intro-content .register-btn {
                    padding: 8px 16px;
                    font-size: 12px;
                }

                .numerology-content h1 {
                    font-size: 20px;
                }

                .numerology-content input,
                .numerology-content select,
                .numerology-content button {
                    padding: 6px;
                    font-size: 12px;
                }

                .result {
                    grid-template-columns: 1fr; /* 1 column for small phones */
                }

                .result-item {
                    font-size: 12px;
                }
            }
        }

    </style>
</head>
<body>
    <!-- Header Navigation -->
    <header class="header">
        <div class="logo">
            <img src="https://cdn.qwenlm.ai/b75fede4-f5b4-495e-b566-661e48a46a97/d55301a3-d4a8-45e1-b5dc-3f82ee8c34bd_image.png?key=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJyZXNvdXJjZV91c2VyX2lkIjoiYjc1ZmVkZTQtZjViNC00OTVlLWI1NjYtNjYxZTQ4YTQ2YTk3IiwicmVzb3VyY2VfaWQiOiJkNTUzMDFhMy1kNGE4LTQ1ZTEtYjVkYy0zZjgyZWU4YzM0YmQiLCJyZXNvdXJjZV9jaGF0X2lkIjpudWxsfQ.94It_VTMrqSzzk5RJ4dnlDiKE3nUGAxUPZKc9XUhGZs">
            <span>ELITE DIAMOND ACADEMY</span>
        </div>
        <nav class="nav-menu">
            <a href="#" onclick="switchTab('intro')">Home</a>
            <div class="dropdown">
                <a href="#">Gi·ªõi thi·ªáu ‚ñº</a>
                <div class="dropdown-content">
                    <a href="#" onclick="switchTab('intro')">V·ªÅ ch√∫ng t√¥i</a>
                    <a href="#" onclick="switchTab('numerology')">D·ªãch v·ª• Th·∫ßn s·ªë h·ªçc</a>
                </div>
            </div>
            <div class="dropdown">
                <a href="#">Tra C·ª©u ‚ñº</a>
                <div class="dropdown-content">
                    <a href="#" onclick="switchTab('numerology')">Tra c·ª©u Th·∫ßn s·ªë h·ªçc</a>
                    <a href="#">Tra c·ª©u nƒÉm c√° nh√¢n</a>
                </div>
            </div>
            <div class="dropdown">
                <a href="#">D·ªãch v·ª• ‚ñº</a>
                <div class="dropdown-content">
                    <a href="#">T∆∞ v·∫•n c√° nh√¢n</a>
                    <a href="#">Kh√≥a h·ªçc Th·∫ßn s·ªë h·ªçc</a>
                </div>
            </div>
            <div class="dropdown">
                <a href="#">Blog ‚ñº</a>
                <div class="dropdown-content">
                    <a href="#">B√†i vi·∫øt m·ªõi</a>
                    <a href="#">Ki·∫øn th·ª©c Th·∫ßn s·ªë h·ªçc</a>
                </div>
            </div>
            <a href="#" onclick="switchTab('intro')">ƒêƒÉng nh·∫≠p</a>
            <div class="dropdown">
                <a href="#">Ng√¥n ng·ªØ ‚ñº</a>
                <div class="dropdown-content">
                    <a href="#">Ti·∫øng Vi·ªát</a>
                    <a href="#">English</a>
                </div>
            </div>
            <a href="#" class="search-icon">üîç</a>
        </nav>
        <button class="hamburger" onclick="toggleMenu()">‚ò∞</button>
    </header>

    <!-- Main Content -->
    <div class="container">
        <!-- Tab Content -->
        <div id="intro" class="tab-content active">
            <div class="intro-content">
                <h1>‚ù§Ô∏è KH√ìA H·ªåC 1 NG√ÄY: ‚ÄúM·∫¨T M√É TH√ÄNH C√îNG THEO THI√äN ƒê·ªäA NH√ÇN‚Äù ‚ù§Ô∏è</h1>
                <h3>Khai ph√° B·∫£n th√¢n - Gia ƒë√¨nh V√† Ph√°t tri·ªÉn S·ª± nghi·ªáp</h3>
                <hr>
                <h4>‚∏ª Th·ªùi gian:</h4>
                <p>‚Ä¢ Th·ª© 7 Ng√†y: 19/4/2025</p>
                <p>‚Ä¢ Bu·ªïi h·ªçc: t·ª´ 8h - 17h (Check-in t·ª´ 7h30)</p>

                <h4>‚∏ª ƒê·ªãa ƒëi·ªÉm:</h4>
                <p>‚Ä¢ Qu√°n Cafe S√°ch ƒê√¥ng T√¢y, Nh√† s·ªë 1 L√¥ 3 ƒê·ªìi Ng√¢n H√†ng, TP H·∫° Long, Qu·∫£ng Ninh</p>

                <h4>‚∏ª B·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c g√¨ t·ª´ kh√≥a h·ªçc n√†y?</h4>
                <ul>
                    <li>‚òòÔ∏è <strong>Gi·∫£i m√£ b√≠ quy·∫øt th√†nh c√¥ng:</strong> H·ªçc c√°ch khai ph√° b·∫£n th√¢n qua nh·ªØng con s·ªë v√† tri·∫øt l√Ω ‚ÄúThi√™n - ƒê·ªãa - Nh√¢n‚Äù ƒë·ªôc ƒë√°o.</li>
                    <li>‚òòÔ∏è <strong>T·ªëi ∆∞u h√≥a m·ªëi quan h·ªá:</strong> X√¢y d·ª±ng n·ªÅn t·∫£ng gia ƒë√¨nh v·ªØng ch·∫Øc v√† t·∫°o m·ªëi li√™n k·∫øt b·ªÅn v·ªØng v·ªõi kh√°ch h√†ng ‚Äì ch√¨a kh√≥a m·ªü ra c√°nh c·ª≠a ph√°t tri·ªÉn s·ª± nghi·ªáp.</li>
                    <li>‚òòÔ∏è <strong>·ª®ng d·ª•ng th·ª±c ti·ªÖn:</strong> √Åp d·ª•ng nh·ªØng nguy√™n t·∫Øc nh√¢n s·ªë h·ªçc ƒë·ªÉ ƒë·ªãnh h∆∞·ªõng con ƒë∆∞·ªùng th√†nh c√¥ng c√° nh√¢n c≈©ng nh∆∞ kinh doanh, b·∫•t ƒë·ªông s·∫£n, spa, m·ªπ ph·∫©m‚Ä¶</li>
                </ul>

                <h4>‚∏ª ƒê·ªëi t∆∞·ª£ng tham gia:</h4>
                <ul>
                    <li>‚Ä¢ Doanh nh√¢n, ch·ªß doanh nghi·ªáp</li>
                    <li>‚Ä¢ Nh·ªØng ng∆∞·ªùi khao kh√°t ph√°t tri·ªÉn b·∫£n th√¢n v√† s·ª± nghi·ªáp</li>
                    <li>‚Ä¢ C√°c b·∫≠c cha m·∫π v√† h·ªçc sinh quan t√¢m ƒë·∫øn s·ª± ph√°t tri·ªÉn to√†n di·ªán</li>
                </ul>

                <h4>‚∏ª V√¨ sao n√™n tham gia?</h4>
                <ul>
                    <li>‚Ä¢ <strong>Ph∆∞∆°ng ph√°p ƒë·ªôc ƒë√°o:</strong> K·∫øt h·ª£p gi·ªØa khoa h·ªçc nh√¢n s·ªë h·ªçc v√† tri·∫øt l√Ω c·ªï truy·ªÅn ‚ÄúThi√™n - ƒê·ªãa - Nh√¢n‚Äù</li>
                    <li>‚Ä¢ <strong>B√†i gi·∫£ng thi·∫øt th·ª±c:</strong> H·ªçc t·ª´ c√°c case study c·ª• th·ªÉ v√† tr·∫£i nghi·ªám th·ª±c ti·ªÖn t·∫°i TP H·∫° Long</li>
                    <li>‚Ä¢ <strong>M√¥i tr∆∞·ªùng s√°ng t·∫°o:</strong> Kh√¥ng gian Qu√°n Cafe S√°ch ƒê√¥ng T√¢y s·∫Ω mang l·∫°i c·∫£m h·ª©ng v√† s·ª± th∆∞ th√°i ƒë·ªÉ h·ªçc h·ªèi v√† giao l∆∞u</li>
                </ul>

                <h4>‚∏ª ƒêƒÉng k√Ω ngay h√¥m nay ƒë·ªÉ bi·∫øn ‚ÄúM·∫≠t m√£ Th√†nh C√¥ng‚Äù c·ªßa ri√™ng b·∫°n th√†nh hi·ªán th·ª±c!</h4>
                <p><strong>Li√™n h·ªá hotline:</strong> 0338638389</p>
                <p><strong>S·ªë ƒëi·ªán tho·∫°i:</strong> 0338638389</p>
                <p><strong>Email:</strong> <a href="mailto:maingavp86@gmail.com" class="link">maingavp86@gmail.com</a></p>
                <p><strong>Link Zalo ƒëƒÉng k√Ω:</strong> <a href="https://zalo.me/0338638389" target="_blank" class="link">Zalo</a></p>
                <p><a href="https://docs.google.com/forms/d/e/1FAIpQLScGrTtnMSD4AC4YITDma-1bsRpKr8p7t079K8zCpOqq-C3fAg/viewform?usp=header" target="_blank" class="register-btn">ƒêƒÉng k√Ω ngay</a></p>

                <p>üëâüèªüëâüèªüëâüèª H√£y ƒë·∫øn v√† tr·∫£i nghi·ªám h√†nh tr√¨nh chuy·ªÉn m√¨nh, n∆°i m·ªói con s·ªë s·∫Ω l√† ch√¨a kh√≥a m·ªü ra c√°nh c·ª≠a ph√°t tri·ªÉn b·∫£n th√¢n, gia ƒë√¨nh v√† s·ª± nghi·ªáp c·ªßa b·∫°n.</p>
            </div>
        </div>
    </div>

    <script>
        function toggleMenu() {
            const navMenu = document.querySelector('.nav-menu');
            navMenu.classList.toggle('active');
        }
    // Tab Switching
        function switchTab(tabId) {
            // Hide all tab contents
            const tabContents = document.getElementsByClassName('tab-content');
            for (let content of tabContents) {
                content.classList.remove('active');
            }
            
            // Show the selected tab content
            const selectedTab = document.getElementById(tabId);
            if (selectedTab) {
                selectedTab.classList.add('active');
            }
            
            // Update URL hash for deep linking (optional)
            window.location.hash = tabId;
            
            return false; // Prevent default link behavior
        }

        // Initialize tabs based on URL hash when page loads
        document.addEventListener('DOMContentLoaded', function() {
            // Check if there's a hash in the URL
            const hash = window.location.hash.substring(1);
            if (hash && document.getElementById(hash)) {
                switchTab(hash);
            }
            
            // Add click event listeners to all tab links
            const tabLinks = document.querySelectorAll('[onclick*="switchTab"]');
            tabLinks.forEach(link => {
                link.addEventListener('click', function(e) {
                    e.preventDefault(); // Prevent default link behavior
                    const tabId = this.getAttribute('onclick').match(/'([^']+)'/)[1];
                    switchTab(tabId);
                });
            });
        });
        
        let numerologyResults = null; // Bi·∫øn to√†n c·ª•c ƒë·ªÉ l∆∞u k·∫øt qu·∫£
        // API Key c·ªßa Cohere (thay th·∫ø b·∫±ng API Key c·ªßa b·∫°n)
        const COHERE_API_KEY = "9MHD0XvvmkJQGfQpogAmNw6ozsZalaZa57OVFMPE"; // Thay YOUR_COHERE_API_KEY b·∫±ng API Key th·ª±c t·∫ø

        // Hi·ªÉn th·ªã/·∫©n khung chat
        function toggleChat() {
            const chatBox = document.getElementById('chat-box');
            chatBox.style.display = chatBox.style.display === 'flex' ? 'none' : 'flex';
        }

        // X·ª≠ l√Ω nh·∫≠p li·ªáu t·ª´ ng∆∞·ªùi d√πng
        function handleChatInput(event) {
            if (event.key === 'Enter') {
                sendMessage();
            }
        }

        // G·ª≠i tin nh·∫Øn
        async function sendMessage() {
            const input = document.getElementById('chat-input');
            const message = input.value.trim();
            if (message === '') return;

            // Hi·ªÉn th·ªã tin nh·∫Øn c·ªßa ng∆∞·ªùi d√πng
            displayMessage(message, 'user');

            // G·ªçi API Cohere ƒë·ªÉ nh·∫≠n ph·∫£n h·ªìi
            const response = await getCohereResponse(message);
            displayMessage(response, 'bot');

            // X√≥a n·ªôi dung input
            input.value = '';
        }

        // Hi·ªÉn th·ªã tin nh·∫Øn
        function displayMessage(message, sender) {
            const chatMessages = document.getElementById('chat-messages');
            const messageElement = document.createElement('div');
            messageElement.classList.add('message', sender);
            messageElement.textContent = message;
            chatMessages.appendChild(messageElement);

            // Cu·ªôn xu·ªëng d∆∞·ªõi c√πng
            chatMessages.scrollTop = chatMessages.scrollHeight;
        }

        // G·ªçi API Cohere ƒë·ªÉ nh·∫≠n ph·∫£n h·ªìi
        async function getCohereResponse(message) {
            if (!numerologyResults) {
                return "Vui l√≤ng t√≠nh to√°n c√°c ch·ªâ s·ªë tr∆∞·ªõc khi h·ªèi.";
            }

            // Th√™m h∆∞·ªõng d·∫´n r√µ r√†ng ƒë·ªÉ AI tr·∫£ l·ªùi b·∫±ng ti·∫øng Vi·ªát
            const context = `B·∫°n l√† m·ªôt chuy√™n gia Numerology. H√£y tr·∫£ l·ªùi c√¢u h·ªèi sau b·∫±ng ti·∫øng Vi·ªát m·ªôt c√°ch ng·∫Øn g·ªçn v√† d·ªÖ hi·ªÉu. C√°c ch·ªâ s·ªë Numerology c·ªßa b·∫°n l√†: 
            - ƒê∆∞·ªùng ƒë·ªùi: ${numerologyResults.birthValue}
            - C√¢n b·∫±ng: ${numerologyResults.balanceValue}
            - S·ª© m·ªánh: ${numerologyResults.finalSum}
            - Linh h·ªìn: ${numerologyResults.soulValue}
            - Nh√¢n c√°ch: ${numerologyResults.personalityValue}
            - NƒÉm c√° nh√¢n: ${numerologyResults.personalYear}
            C√¢u h·ªèi: ${message}`;

            const url = "https://api.cohere.com/v1/chat";
            const data = {
                model: "command-r-plus",
                message: context,
                temperature: 0.7,
                max_tokens: 500,
            };

            try {
                const response = await fetch(url, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        "Authorization": `Bearer ${COHERE_API_KEY}`,
                    },
                    body: JSON.stringify(data),
                });

                const result = await response.json();
                console.log(result);
                return result.text;
            } catch (error) {
                console.error("L·ªói khi g·ªçi API Cohere:", error);
                return "Xin l·ªói, t√¥i kh√¥ng th·ªÉ k·∫øt n·ªëi ƒë·∫øn AI ngay l√∫c n√†y.";
            }
        }
        function removeDiacritics(str) {
            return str.normalize("NFD").replace(/[\u0300-\u036f]/g, "");
        }

        function populateDateFields() {
            const yearSelect = document.getElementById('currentYear');
            const monthSelect = document.getElementById('currentMonth');
            const daySelect = document.getElementById('currentDay');
            const currentYear = new Date().getFullYear();

            for (let y = 2000; y <= currentYear + 10; y++) {
                yearSelect.innerHTML += `<option value="${y}">${y}</option>`;
            }

            for (let m = 1; m <= 12; m++) {
                monthSelect.innerHTML += `<option value="${m}">${m}</option>`;
            }

            for (let d = 1; d <= 31; d++) {
                daySelect.innerHTML += `<option value="${d}">${d}</option>`;
            }

            yearSelect.value = currentYear;
            monthSelect.value = new Date().getMonth() + 1;
            daySelect.value = new Date().getDate();
        }
        function calculateMissingNumbers(name) {
            const counts = Array(9).fill(0);
            name.toLowerCase().split('').forEach(char => {
                const num = letterValues[char] || 0;
                if (num > 0) counts[num - 1]++;  // ƒê·∫øm s·ªë l·∫ßn xu·∫•t hi·ªán
            });

            // T√¨m c√°c s·ªë t·ª´ 1 ƒë·∫øn 9 m√† kh√¥ng xu·∫•t hi·ªán
            const missing = counts.map((count, index) => (count === 0 ? index + 1 : null)).filter(n => n !== null);
            return missing;
        }


        function populateBirthDateFields() {
            const birthYearSelect = document.getElementById('birthYear');
            const birthMonthSelect = document.getElementById('birthMonth');
            const birthDaySelect = document.getElementById('birthDay');
            const currentYear = new Date().getFullYear();

            for (let y = 1900; y <= currentYear; y++) {
                birthYearSelect.innerHTML += `<option value="${y}">${y}</option>`;
            }

            for (let m = 1; m <= 12; m++) {
                birthMonthSelect.innerHTML += `<option value="${m}">${m}</option>`;
            }

            updateDays(birthMonthSelect.value, birthYearSelect.value);

            birthMonthSelect.addEventListener('change', () => updateDays(birthMonthSelect.value, birthYearSelect.value));
            birthYearSelect.addEventListener('change', () => updateDays(birthMonthSelect.value, birthYearSelect.value));

            birthYearSelect.value = currentYear - 20;
            birthMonthSelect.value = 1;
            birthDaySelect.value = 1;
        }

        function updateDays(month, year) {
            const birthDaySelect = document.getElementById('birthDay');
            birthDaySelect.innerHTML = '';
            const daysInMonth = new Date(year, month, 0).getDate();
            for (let d = 1; d <= daysInMonth; d++) {
                birthDaySelect.innerHTML += `<option value="${d}">${d}</option>`;
            }
        }

        function reduceNumber(n) {
            while (n >= 10 && ![11, 22, 33].includes(n)) {
                n = n.toString().split('').reduce((sum, digit) => sum + parseInt(digit), 0);
            }
            return n;
        }

        function customReduceNumber(n) {
            if ([11, 22, 33].includes(n)) return n;
            while (n >= 10) {
                n = n.toString().split('').reduce((sum, digit) => sum + parseInt(digit), 0);
                if ([11, 22, 33].includes(n)) return n;
            }
            return n;
        }


        function changReduceNumber(n) {
            while (n >= 10) {
                n = n.toString().split('').reduce((sum, digit) => sum + parseInt(digit), 0);
            }
            return n;
        }

        const letterValues = {
            'a': 1, 'b': 2, 'c': 3, 'd': 4, 'e': 5, 'f': 6, 'g': 7, 'h': 8, 'i': 9,
            'j': 1, 'k': 2, 'l': 3, 'm': 4, 'n': 5, 'o': 6, 'p': 7, 'q': 8, 'r': 9,
            's': 1, 't': 2, 'u': 3, 'v': 4, 'w': 5, 'x': 6, 'y': 7, 'z': 8
        };
        function findMostFrequentNumber(name) {
            const counts = {};
            const numbers = name.toLowerCase().split('').map(char => letterValues[char] || 0);

            for (const num of numbers) {
                if (num > 0) {
                    counts[num] = (counts[num] || 0) + 1;
                }
            }

            let maxCount = 0;
            let mostFrequent = null;
            for (const [num, count] of Object.entries(counts)) {
                if (count > maxCount) {
                    maxCount = count;
                    mostFrequent = parseInt(num);
                }
            }

            return mostFrequent;
        }

        function calculateNameValue(name) {
            const nameParts = name.toLowerCase().normalize("NFD").replace(/[ÃÄ-ÕØ]/g, "").split(" ");
            const vowels = "aeiou";

            let soulValue = 0;
            let personalityValue = 0;
            let totalSoulSum = 0;
            let soulDetails = [];  // üî• L∆∞u c√°c nguy√™n √¢m + s·ªë t∆∞∆°ng ·ª©ng
            let balanceDetails = []; // üî• L∆∞u ch·ªØ c√°i ƒë·∫ßu + s·ªë t∆∞∆°ng ·ª©ng
            const reducedSums = [];
            const firstLetterValues = [];
            let nameValue = 0;

            for (const char of name) {
                nameValue += letterValues[char] || 0;
            }
            let personalityDetails = [];

            for (const part of nameParts) {
                for (const char of part) {
                    if (!vowels.includes(char)) {
                        const value = letterValues[char] || 0;
                        personalityDetails.push(`${char}:${value}`);
                    }
                }
            }
            for (const part of nameParts) {
                let totalSum = 0;
                let soulSum = 0;

                for (const char of part) {
                    const value = letterValues[char] || 0;
                    totalSum += value;
                    if (vowels.includes(char)) {
                        soulSum += value;
                        soulDetails.push(`${char}:${value}`);  // üî• L∆∞u chi ti·∫øt nguy√™n √¢m
                    } else {
                        personalityValue += value;
                    }
                }

                totalSoulSum += soulSum;
                reducedSums.push(reduceNumber(totalSum));
                soulValue += reduceNumber(soulSum);

                if (part.length > 0) {
                    let firstChar = part[0];  // üî• L·∫•y ch·ªØ c√°i ƒë·∫ßu ti√™n
                    let firstCharValue = letterValues[firstChar] || 0;
                    firstLetterValues.push(firstCharValue);
                    balanceDetails.push(`${firstChar}:${firstCharValue}`);  // üî• L∆∞u chi ti·∫øt ch·ªØ c√°i ƒë·∫ßu
                }
            }

            const balanceSum = firstLetterValues.reduce((a, b) => a + b, 0);
            const balanceValue = changReduceNumber(balanceSum);
            const finalSum = reduceNumber(reducedSums.reduce((a, b) => a + b, 0));
            const lastNameValue = nameParts.length > 0 ? reduceNumber(nameParts[nameParts.length - 1].split('').reduce((sum, char) => sum + (letterValues[char] || 0), 0)) : 0;

            return {
                reducedSums,
                finalSum,
                soulSum: totalSoulSum,
                soulValue, 
                soulDetails,  // üî• Tr·∫£ v·ªÅ danh s√°ch nguy√™n √¢m
                balanceSum,
                balanceValue, 
                balanceDetails,  // üî• Tr·∫£ v·ªÅ danh s√°ch ch·ªØ c√°i ƒë·∫ßu
                personalityValue: reduceNumber(personalityValue),
                personalityDetails,
                lastNameValue,
                nameValue
            };
        }





        function calculateChallenges(day, month, year) {
            const challenge1 = changReduceNumber(Math.abs(reduceNumber(day) - changReduceNumber(month)));
            const challenge2 = changReduceNumber(Math.abs(reduceNumber(day) - changReduceNumber(year)));
            const challenge3 = changReduceNumber(Math.abs(challenge1 - challenge2));
            const challenge4 = changReduceNumber(Math.abs(changReduceNumber(month) - changReduceNumber(year)));
            return { challenge1, challenge2, challenge3, challenge4 };
        }

        function calculateChang(day, month, year) {
            const chang1 = changReduceNumber(day + month);
            const chang2 = changReduceNumber(day + year);
            const chang3 = changReduceNumber(chang1 + chang2);
            const chang4 = changReduceNumber(month + year);
            return { chang1, chang2, chang3, chang4 };
        }
        function charToNumber(char) {
            if (!/[a-zA-Z]/.test(char)) return 0;  // Ch·ªâ x·ª≠ l√Ω k√Ω t·ª± ch·ªØ
            const alphabet = 'abcdefghijklmnopqrstuvwxyz';
            const index = alphabet.indexOf(char.toLowerCase());
            return index !== -1 ? (index % 9) + 1 : 0;
        }
        function calculateBirthValue(day, month, year) {
            const sum = reduceNumber(day) + reduceNumber(month) + reduceNumber(year);
            if ([11, 22, 33].includes(sum)) {
                return sum;  // Gi·ªØ s·ªë ƒë·∫∑c bi·ªát n·∫øu c√≥
            }
            return reduceNumber(sum);  // Gi·∫£m v·ªÅ 1 ch·ªØ s·ªë n·∫øu kh√¥ng ph·∫£i s·ªë ƒë·∫∑c bi·ªát
        }
        function splitDigits(num) {
            return num.toString().split("").join(" + ");
        }


        function calculateNumerology() {
            document.getElementById('show-details-btn').style.display = 'block';
            const name = removeDiacritics(document.getElementById('name').value);
            const day = parseInt(document.getElementById('birthDay').value);
            const month = parseInt(document.getElementById('birthMonth').value);
            const year = parseInt(document.getElementById('birthYear').value);
            const currentYear = parseInt(document.getElementById('currentYear').value);
            const currentMonth = parseInt(document.getElementById('currentMonth').value);
            const currentDay = parseInt(document.getElementById('currentDay').value);
            

            const { reducedSums, finalSum, soulValue, soulSum, soulDetails, personalityValue, personalityDetails, balanceValue, balanceSum, balanceDetails, lastNameValue, nameValue } = calculateNameValue(name);



            const dayValue = reduceNumber(day);
            const birthValue = calculateBirthValue(day, month, year);

            const maturityValue = reduceNumber(birthValue + finalSum);

            const linkValue = birthValue > finalSum 
                ? reduceNumber(Math.abs(changReduceNumber(birthValue) - finalSum)) 
                : reduceNumber(Math.abs(finalSum - changReduceNumber(birthValue)));

            const personalYear = changReduceNumber(dayValue + month + currentYear);
            const personalMonth = changReduceNumber(personalYear + currentMonth);
            const personalDay = changReduceNumber(personalMonth + currentDay);

            const { challenge1, challenge2, challenge3, challenge4 } = calculateChallenges(day, month, year);
            const { chang1, chang2, chang3, chang4 } = calculateChang(day, month, year);

            const missingNumbers = Array.from({ length: 9 }, (_, i) => i + 1).filter(num => !name.toLowerCase().split('').map(char => letterValues[char] || 0).includes(num));
            const passion = findMostFrequentNumber(name);
            const logicalMind = changReduceNumber(lastNameValue + dayValue);
            const age1 = 36 - changReduceNumber(birthValue);
            const age2 = age1 + 9;
            const age3 = age2 + 9;
            const age4 = age3 + 9;
            const cyear1 = year + age1;
            const cyear2 = cyear1 + 9;
            const cyear3 = cyear2 + 9;
            const cyear4 = cyear3 + 9;
            // L∆∞u k·∫øt qu·∫£ v√†o bi·∫øn to√†n c·ª•c
            numerologyResults = {
                birthValue,
                balanceValue,
                finalSum,
                linkValue,
                soulValue,
                maturityValue,
                personalityValue,
                logicalMind,
                missingNumbers,
                passion,
                personalYear,
                personalMonth,
                personalDay,
                chang1,
                chang2,
                chang3,
                chang4,
                challenge1,
                challenge2,
                challenge3,
                challenge4,
            };

            const results = [
                { 
                    label: 'ƒê∆∞·ªùng ƒë·ªùi', 
                    value: birthValue,
                    tooltip: `B·∫±ng t·ªïng ng√†y th√°ng nƒÉm sinh:(${day}+${month}+${year}) ‚Üí ${reduceNumber(day)}+${reduceNumber(month)}+${reduceNumber(year)} = ${birthValue}${[11, 22, 33].includes(birthValue) ? ' (S·ªë ƒë·∫∑c bi·ªát)' : ''}`
                },
                {
                    label: 'C√¢n b·∫±ng',
                    value: balanceValue,
                    tooltip: `B·∫±ng t·ªïng c√°c ch·ªØ c√°i ƒë·∫ßu c·ªßa H·ªç v√† t√™n:(${balanceDetails.join(" + ")}) = ${balanceSum} ‚Üí ${balanceValue}${[11, 22, 33].includes(balanceValue) ? ' (S·ªë ƒë·∫∑c bi·ªát)' : ''}`
                },
                {
                    label: 'S·ª© m·ªánh',
                    value: finalSum,
                    tooltip: `B·∫±ng t·ªïng h·ªç v√† t√™n: ${name} ‚Üí ${[...name].map(char => `${char}: ${charToNumber(char)}`).join(' + ')} ‚Üí T·ªïng = ${nameValue} ‚Üí ${reduceNumber(nameValue)}${[11, 22, 33].includes(finalSum) ? ' (S·ªë ƒë·∫∑c bi·ªát)' : ''}`
                },
                {
                    label: 'Li√™n k·∫øt', 
                    value: linkValue,
                    tooltip: birthValue > finalSum 
                        ? `B·∫±ng hi·ªáu ƒë∆∞·ªùng ƒë·ªùi v√† s·ª© m·ªánh:${changReduceNumber(birthValue)} - ${finalSum} ‚Üí ${linkValue}${[11, 22, 33].includes(linkValue) ? ' (S·ªë ƒë·∫∑c bi·ªát)' : ''}`
                        : `B·∫±ng hi·ªáu s·ª© m·ªánh v√† ƒë∆∞·ªùng ƒë·ªùi:${finalSum} - ${changReduceNumber(birthValue)} ‚Üí ${linkValue}${[11, 22, 33].includes(linkValue) ? ' (S·ªë ƒë·∫∑c bi·ªát)' : ''}`
                },
                {
                    label: 'Linh h·ªìn', 
                    value: reduceNumber(soulValue),
                    tooltip: `(${soulDetails.join(" + ")}) = ${soulSum} ‚Üí ${reduceNumber(soulValue)}${[11, 22, 33].includes(reduceNumber(soulValue)) ? ' (S·ªë ƒë·∫∑c bi·ªát)' : ''}`
                },
                {
                    label: 'Tr∆∞·ªüng th√†nh',
                    value: maturityValue,
                    tooltip: `B·∫±ng ƒë∆∞·ªùng ƒë·ªùi + s·ª© m·ªánh:(${birthValue} + ${finalSum}) = ${birthValue + finalSum} ‚Üí ${maturityValue}${[11, 22, 33].includes(maturityValue) ? ' (S·ªë ƒë·∫∑c bi·ªát)' : ''}`
                },
                {
                    label: 'Nh√¢n c√°ch',
                    value: personalityValue,
                    tooltip: `B·∫±ng t·ªïng c√°c ph·ª• √¢m ${personalityDetails.join(" + ")} = ${personalityValue}${[11, 22, 33].includes(personalityValue) ? ' (S·ªë ƒë·∫∑c bi·ªát)' : ''}`
                },
                {
                    label: 'T∆∞ duy l√Ω tr√≠',
                    value: logicalMind,
                    tooltip: `B·∫±ng t√™n + ng√†y sinh:(${lastNameValue} , ${dayValue}) = ${lastNameValue + dayValue} ‚Üí ${logicalMind}${[11, 22, 33].includes(logicalMind) ? ' (S·ªë ƒë·∫∑c bi·ªát)' : ''}`
                },
                {
                    label: 'S·ª©c m·∫°nh ti·ªÅm th·ª©c',
                    value: 9 - missingNumbers.length,
                    tooltip: `S·ª©c m·∫°nh ti·ªÅm th·ª©c b·∫±ng  9 - l∆∞·ª£ng s·ªë thi·∫øu: ${9} - ${missingNumbers.length} ‚Üí ${9 - missingNumbers.length}`
                },
                {
                    label: 'Ng√†y sinh',
                    value: dayValue,
                    tooltip: `ng√†y sinh: ${day} = ${splitDigits(day)} ‚Üí ${dayValue}`
                },
                {
                    label: 'ƒêam m√™',
                    value: passion,
                    tooltip: `S·ªë hi·ªÉn th·ªã nhi·ªÅu nh·∫•t trong h·ªç v√† t√™n: ${passion}`
                },
                {
                    label: 'NƒÉm c√° nh√¢n',
                    value: personalYear,
                    tooltip: `ng√†y sinh + th√°ng sinh + nƒÉm hi·ªán t·∫°i: ${dayValue} + ${month} +${currentYear} ‚Üí ${personalYear}`
                },
                {
                    label: 'Th√°ng c√° nh√¢n',
                    value: personalMonth,
                    tooltip: `B·∫±ng t·ªïng nƒÉm c√° nh√¢n v√† th√°ng hi·ªán t·∫°i: ${personalYear} + ${currentMonth} ‚Üí ${personalMonth}`
                },
                {
                    label: 'Ng√†y c√° nh√¢n',
                    value: personalDay,
                    tooltip: `B·∫±ng t·ªïng th√°ng c√° nh√¢n v√† ng√†y hi·ªán t·∫°i: ${personalMonth} + ${currentDay} ‚Üí ${personalDay}`
                },
                {
                    label: 'Ch·∫∑ng',
                    value: `${chang1}, ${chang2}, ${chang3}, ${chang4}`,
                    tooltip: `
                        <p><strong>Chi ti·∫øt t√≠nh to√°n:</strong></p>
                        <p>Ch·∫∑ng 1: (${day} + ${month} = ${chang1})</p>
                        <p>Ch·∫∑ng 2: (${day} + ${year} = ${chang2})</p>
                        <p>Ch·∫∑ng 3: (${chang1} + ${chang2} = ${chang3})</p>
                        <p>Ch·∫∑ng 4: (${month} + ${year} = ${chang4})</p>
                        
                        <table border="1" cellspacing="0" cellpadding="5">
                            <tr>
                                <th>Ch·∫∑ng</th>
                                <td>${chang1}</td>
                                <td>${chang2}</td>
                                <td>${chang3}</td>
                                <td>${chang4}</td>
                            </tr>
                            <tr>
                                <th>Th√°ch th·ª©c</th>
                                <td>${challenge1}</td>
                                <td>${challenge2}</td>
                                <td>${challenge3}</td>
                                <td>${challenge4}</td>
                            </tr>
                            <tr>
                                <th>Tu·ªïi</th>
                                <td>0 - ${age1}</td>
                                <td>${age1 + 1} - ${age2}</td>
                                <td>${age2 + 1} - ${age3}</td>
                                <td>${age3 + 1} - ${age4}</td>
                            </tr>
                            <tr>
                                <th>NƒÉm</th>
                                <td>${year} - ${cyear1}</td>
                                <td>${cyear1 + 1} - ${cyear2}</td>
                                <td>${cyear2 + 1} - ${cyear3}</td>
                                <td>${cyear3 + 1} - ${cyear4}</td>
                            </tr>
                        </table>
                    `
                },
                {
                    label: 'Th√°ch th·ª©c',
                    value: `${challenge1}, ${challenge2}, ${challenge3}, ${challenge4}`,
                    tooltip: `
                        <p><strong>Chi ti·∫øt t√≠nh to√°n:</strong></p>
                        <p>Th√°ch th·ª©c 1: (${day} - ${month} = ${challenge1})</p>
                        <p>Th√°ch th·ª©c 2: (${day} - ${year} = ${challenge2})</p>
                        <p>Th√°ch th·ª©c 3: (${challenge1} - ${challenge2} = ${challenge3})</p>
                        <p>Th√°ch th·ª©c 4: (${month} - ${year} = ${challenge4})</p>

                        <table border="1" cellspacing="0" cellpadding="5">
                            <tr>
                                <th>Ch·∫∑ng</th>
                                <td>${chang1}</td>
                                <td>${chang2}</td>
                                <td>${chang3}</td>
                                <td>${chang4}</td>
                            </tr>
                            <tr>
                                <th>Th√°ch th·ª©c</th>
                                <td>${challenge1}</td>
                                <td>${challenge2}</td>
                                <td>${challenge3}</td>
                                <td>${challenge4}</td>
                            </tr>
                            <tr>
                                <th>Tu·ªïi</th>
                                <td>0 - ${age1}</td>
                                <td>${age1 + 1} - ${age2}</td>
                                <td>${age2 + 1} - ${age3}</td>
                                <td>${age3 + 1} - ${age4}</td>
                            </tr>
                            <tr>
                                <th>NƒÉm</th>
                                <td>${year} - ${cyear1}</td>
                                <td>${cyear1 + 1} - ${cyear2}</td>
                                <td>${cyear2 + 1} - ${cyear3}</td>
                                <td>${cyear3 + 1} - ${cyear4}</td>
                            </tr>
                        </table>
                    `
                },
                {
                    label: 'S·ªë thi·∫øu',
                    value: missingNumbers.join(', '),
                    tooltip: `S·ªë kh√¥ng c√≥ trong h·ªç v√† t√™n: ${missingNumbers.join(', ')}`
                },
            ];

            document.getElementById('result').innerHTML = results
                .map(item => {
                    const tooltip = item.tooltip ? `<div class="tooltip-text">${item.tooltip}</div>` : '';
                    return `<div class="result-item tooltip">
                                <strong>${item.label}:</strong> ${item.value}
                                ${tooltip}
                            </div>`;
                })
                .join('');

        }

        window.onload = () => {
            populateDateFields();
            populateBirthDateFields();
        };

        // Hi·ªÉn th·ªã modal chi ti·∫øt
        function showDetailedView() {
            const modal = document.getElementById('detailed-modal');
            modal.style.display = 'flex';
            
            populateDetailedView();
        }

        // ƒê√≥ng modal chi ti·∫øt
        function closeDetailedView() {
            document.getElementById('detailed-modal').style.display = 'none';
        }

        // Chuy·ªÉn ƒë·ªïi tab
        function openTab(tabId) {
            // ·∫®n t·∫•t c·∫£ tab content trong modal
            const detailedTabs = document.querySelectorAll('.modal-content .tab-content');
            detailedTabs.forEach(tab => {
                tab.classList.remove('active');
            });
            
            // Lo·∫°i b·ªè class active t·ª´ t·∫•t c·∫£ tab button
            const tabButtons = document.querySelectorAll('.modal-content .tab-button');
            tabButtons.forEach(button => {
                button.classList.remove('active');
            });
            
            // Hi·ªÉn th·ªã tab ƒë∆∞·ª£c ch·ªçn
            const selectedTab = document.getElementById(tabId);
            if (selectedTab) {
                selectedTab.classList.add('active');
                
                // T√¨m v√† k√≠ch ho·∫°t button t∆∞∆°ng ·ª©ng
                const activeButton = document.querySelector(`.tab-button[onclick="openTab('${tabId}')"]`);
                if (activeButton) {
                    activeButton.classList.add('active');
                }
            }
        }

        // M·∫£ng m√†u cho bi·ªÉu ƒë·ªì
        const chartColors = [
            '#8A2BE2', '#9370DB', '#BA55D3', '#DA70D6', 
            '#EE82EE', '#FF00FF', '#FF00CC', '#C71585', '#DB7093'
        ];

        // L·∫•y m√¥ t·∫£ cho t·ª´ng s·ªë
        async function getNumberDescription(number, aspect) {
            if (!numerologyResults) return "Vui l√≤ng t√≠nh to√°n c√°c ch·ªâ s·ªë tr∆∞·ªõc.";
            
            const context = `B·∫°n l√† m·ªôt chuy√™n gia Numerology. H√£y m√¥ t·∫£ √Ω nghƒ©a v√† ƒë·∫∑c ƒëi·ªÉm c·ªßa ${aspect} s·ªë ${number} trong th·∫ßn s·ªë h·ªçc b·∫±ng ti·∫øng Vi·ªát. N·ªôi dung c·∫ßn ng·∫Øn g·ªçn (kho·∫£ng 150-200 t·ª´), c√≥ t√≠nh gi√°o d·ª•c v√† s√¢u s·∫Øc.`;
            
            const url = "https://api.cohere.com/v1/chat";
            const data = {
                model: "command-r-plus",
                message: context,
                temperature: 0.7,
                max_tokens: 300,
            };
            
            try {
                const response = await fetch(url, {
                    method: "POST",
                    headers: {
                        "Content-Type": "application/json",
                        "Authorization": `Bearer ${COHERE_API_KEY}`,
                    },
                    body: JSON.stringify(data),
                });
                
                const result = await response.json();
                return result.text;
            } catch (error) {
                console.error("L·ªói khi l·∫•y m√¥ t·∫£:", error);
                return "Kh√¥ng th·ªÉ l·∫•y m√¥ t·∫£ v√†o l√∫c n√†y.";
            }
        }

        // T·∫°o bi·ªÉu ƒë·ªì tr√≤n ƒë∆°n gi·∫£n b·∫±ng SVG
        function createSimplePieChart(containerId, value, title) {
            const container = document.getElementById(containerId);
            const size = 200;
            const radius = 80;
            const color = chartColors[value % chartColors.length];
            
            container.innerHTML = `
                <svg width="${size}" height="${size}" viewBox="0 0 ${size} ${size}">
                    <circle cx="${size/2}" cy="${size/2}" r="${radius}" fill="${color}" />
                    <text x="${size/2}" y="${size/2}" text-anchor="middle" fill="white" font-size="36" font-weight="bold">${value}</text>
                    <text x="${size/2}" y="${size/2 + 30}" text-anchor="middle" fill="white" font-size="14">${title}</text>
                </svg>
            `;
        }

        // T·∫°o bi·ªÉu ƒë·ªì thanh ƒë∆°n gi·∫£n b·∫±ng SVG
        function createSimpleBarChart(containerId, data) {
            const container = document.getElementById(containerId);
            const width = container.clientWidth - 40;
            const height = 220;
            const barWidth = width / data.length - 10;
            
            let svgContent = `<svg width="${width}" height="${height}" viewBox="0 0 ${width} ${height}">`;
            
            // T√¨m gi√° tr·ªã l·ªõn nh·∫•t ƒë·ªÉ t·ªâ l·ªá
            const maxValue = Math.max(...data.map(item => item.value));
            
            // V·∫Ω c√°c thanh
            data.forEach((item, index) => {
                const barHeight = (item.value / maxValue) * 150;
                const x = index * (barWidth + 10) + 5;
                const y = height - barHeight - 40;
                
                svgContent += `
                    <rect x="${x}" y="${y}" width="${barWidth}" height="${barHeight}" fill="${chartColors[index % chartColors.length]}" />
                    <text x="${x + barWidth/2}" y="${y - 10}" text-anchor="middle" fill="white" font-size="14">${item.value}</text>
                    <text x="${x + barWidth/2}" y="${height - 15}" text-anchor="middle" fill="white" font-size="12">${item.label}</text>
                `;
            });
            
            svgContent += `</svg>`;
            container.innerHTML = svgContent;
        }

        // T·∫°o bi·ªÉu ƒë·ªì ƒë∆∞·ªùng ƒë∆°n gi·∫£n b·∫±ng SVG
        function createSimpleLineChart(containerId, data, title) {
            const container = document.getElementById(containerId);
            const width = container.clientWidth - 40;
            const height = 220;
            
            let svgContent = `<svg width="${width}" height="${height}" viewBox="0 0 ${width} ${height}">`;
            
            // V·∫Ω ti√™u ƒë·ªÅ
            svgContent += `<text x="${width/2}" y="20" text-anchor="middle" fill="white" font-size="16">${title}</text>`;
            
            // T√¨m gi√° tr·ªã l·ªõn nh·∫•t ƒë·ªÉ t·ªâ l·ªá
            const maxValue = Math.max(...data.map(item => item.value));
            
            // V·∫Ω ƒë∆∞·ªùng
            let pathData = '';
            const pointSpacing = width / (data.length - 1);
            
            data.forEach((item, index) => {
                const x = index * pointSpacing;
                const y = height - 40 - (item.value / maxValue) * 150;
                
                if (index === 0) {
                    pathData += `M ${x},${y}`;
                } else {
                    pathData += ` L ${x},${y}`;
                }
                
                // V·∫Ω ƒëi·ªÉm
                svgContent += `
                    <circle cx="${x}" cy="${y}" r="5" fill="${chartColors[index % chartColors.length]}" />
                    <text x="${x}" y="${y - 15}" text-anchor="middle" fill="white" font-size="12">${item.value}</text>
                    <text x="${x}" y="${height - 15}" text-anchor="middle" fill="white" font-size="12">${item.label}</text>
                `;
            });
            
            // V·∫Ω ƒë∆∞·ªùng n·ªëi
            svgContent += `<path d="${pathData}" fill="none" stroke="#b37aef" stroke-width="2" />`;
            
            svgContent += `</svg>`;
            container.innerHTML = svgContent;
        }

        function createNumberPyramid() {
            const pyramidContainer = document.getElementById('number-pyramid');
            const day = parseInt(document.getElementById('birthDay').value);
            const month = parseInt(document.getElementById('birthMonth').value);
            const year = parseInt(document.getElementById('birthYear').value);
            const { challenge1, challenge2, challenge3, challenge4 } = calculateChallenges(day, month, year);
            const { chang1, chang2, chang3, chang4 } = calculateChang(day, month, year);
            pyramidContainer.innerHTML = '';

            // T·∫°o c√°c h√†ng c·ªßa kim t·ª± th√°p
            const pyramidRows = [
                [challenge1],
                [challenge2],
                [challenge3, challenge4],
                [day, month,year],
                [chang3, chang4],
                [chang2],
                [chang1],
            ];

            // T·∫°o kim t·ª± th√°p
            pyramidRows.forEach(row => {
                const rowDiv = document.createElement('div');
                rowDiv.className = 'pyramid-row';

                row.forEach(num => {
                    const cell = document.createElement('div');
                    cell.className = 'pyramid-cell';
                    cell.textContent = num;
                    rowDiv.appendChild(cell);
                });

                pyramidContainer.appendChild(rowDiv);
            });

            // Th√™m m√¥ t·∫£ kim t·ª± th√°p
            document.getElementById('pyramid-description').innerHTML = `
                <p><strong>Kim t·ª± th√°p cho th·∫•y 4 giai ƒëo·∫°n trong cu·ªôc ƒë·ªùi b·∫°n s·∫Ω t∆∞∆°ng ·ª©ng v·ªõi ƒë·ªânh cao l√† s·ªë n√†o v√† th·ª≠ th√°ch l√† con s·ªë n√†o, t·ª©c l√† b·∫°n n√™n t·∫≠p trung ph√°t tri·ªÉn s·ªë n√†o trong nh·ªØng nƒÉm n√†y ƒë·ªÉ ƒë·∫°t ƒë∆∞·ª£c nhi·ªÅu th√†nh c√¥ng v√† h·∫°nh ph√∫c nh·∫•t.</strong></p>
                <p>T·ª´ tu·ªïi ƒë·ªânh cao ƒë·∫ßu ti√™n ƒë·∫øn tu·ªïi ƒë·ªânh cao cu·ªëi c√πng (36 nƒÉm) ch√≠nh l√† kho·∫£ng th·ªùi gian g·∫∑t h√°i nhi·ªÅu th√†nh c√¥ng trong cu·ªôc ƒë·ªùi c·ªßa b·∫°n.</p>
                <p><strong>M·ª©c ƒë·ªô th√†nh t·ª±u trong 4 giai ƒëo·∫°n ƒë∆∞·ª£c th·ªÉ hi·ªán kh√°c nhau:</strong></p>
                <ul>
                    <li><strong>Giai ƒëo·∫°n 1</strong> - ƒê·ªânh cao c·ªßa tu·ªïi tr·∫ª, th√†nh t·ª±u th∆∞·ªùng l·ªõn ƒë·ªëi v·ªõi b·∫£n th√¢n v√† suy nghƒ© c·ªßa b·∫°n.</li>
                    <li><strong>Giai ƒëo·∫°n 2</strong> - ƒê·ªânh cao c·ªßa kinh nghi·ªám, th√†nh t·ª±u th∆∞·ªùng l·ªõn h∆°n giai ƒëo·∫°n 1 v√† c√≥ th·ªÉ ·∫£nh h∆∞·ªüng nh·ªè t·ªõi x√£ h·ªôi.</li>
                    <li><strong>Giai ƒëo·∫°n 3 v√† giai ƒëo·∫°n 4</strong> - ƒê·ªânh cao c·ªßa s·ª± tr∆∞·ªüng th√†nh, th√†nh t·ª±u c√≥ th·ªÉ r·∫•t l·ªõn v√† ·∫£nh h∆∞·ªüng t·ªõi x√£ h·ªôi, m√¥i tr∆∞·ªùng xung quanh.</li>
                </ul>
                <p>Tuy v·∫≠y, trong 4 giai ƒëo·∫°n n√†y c≈©ng s·∫Ω c√≥ nh·ªØng th√°ch th·ª©c c·ª• th·ªÉ m√† cu·ªôc ƒë·ªùi mu·ªën b·∫°n v∆∞·ª£t qua ‚Äì nh·ªØng con s·ªë th·ª≠ th√°ch s·∫Ω n√≥i l√™n ƒëi·ªÅu ƒë√≥.</p>
            `;
        }



        // ƒêi·ªÅn n·ªôi dung cho modal chi ti·∫øt
        async function populateDetailedView() {
            if (!numerologyResults) {
                alert('Vui l√≤ng t√≠nh to√°n c√°c ch·ªâ s·ªë tr∆∞·ªõc khi xem chi ti·∫øt!');
                closeDetailedView();
                return;
            }
            
            // ƒêi·ªÅn c√°c gi√° tr·ªã
            document.getElementById('lifepath-value').textContent = numerologyResults.birthValue;
            document.getElementById('destiny-value').textContent = numerologyResults.finalSum;
            document.getElementById('soul-value').textContent = numerologyResults.soulValue;
            document.getElementById('personality-value').textContent = numerologyResults.personalityValue;
            document.getElementById('balance-value').textContent = numerologyResults.balanceValue;
            document.getElementById('maturity-value').textContent = numerologyResults.maturityValue;
            
            // T·∫°o bi·ªÉu ƒë·ªì t·ªïng quan
            const overviewData = [
                { label: 'ƒê.ƒë·ªùi', value: numerologyResults.birthValue },
                { label: 'S·ª© m·ªánh', value: numerologyResults.finalSum },
                { label: 'Linh h·ªìn', value: changReduceNumber(numerologyResults.soulValue) },
                { label: 'Nh√¢n c√°ch', value: numerologyResults.personalityValue },
                { label: 'C√¢n b·∫±ng', value: numerologyResults.balanceValue }
            ];
            createSimpleBarChart('overview-chart', overviewData);
            
            // T·∫°o c√°c grid card cho t·ªïng quan
            const overviewNumbersContainer = document.getElementById('overview-numbers');
            overviewNumbersContainer.innerHTML = '';
            
            const numberInfo = [
                { name: 'ƒê∆∞·ªùng ƒë·ªùi', value: numerologyResults.birthValue },
                { name: 'S·ª© m·ªánh', value: numerologyResults.finalSum },
                { name: 'Linh h·ªìn', value: numerologyResults.soulValue },
                { name: 'Nh√¢n c√°ch', value: numerologyResults.personalityValue },
                { name: 'C√¢n b·∫±ng', value: numerologyResults.balanceValue },
                { name: 'NƒÉm c√° nh√¢n', value: numerologyResults.personalYear },
                { name: 'Th√°ng c√° nh√¢n', value: numerologyResults.personalMonth },
                { name: 'Ng√†y c√° nh√¢n', value: numerologyResults.personalDay },
                { name: 'Tr∆∞·ªüng th√†nh', value: numerologyResults.maturityValue }
            ];
            
            numberInfo.forEach(item => {
                const card = document.createElement('div');
                card.className = 'number-card';
                card.innerHTML = `
                    <h3>${item.name}</h3>
                    <div style="display: flex; align-items: center; gap: 10px;">
                        <div style="width: 40px; height: 40px; background-color: ${chartColors[item.value % chartColors.length]}; 
                            border-radius: 50%; display: flex; align-items: center; justify-content: center; font-weight: bold;">
                            ${item.value}
                        </div>
                        <div>S·ªë ${item.value} - ${getMasterNumberLabel(item.value)}</div>
                    </div>
                `;
                overviewNumbersContainer.appendChild(card);
            });
            
            // T·∫°o bi·ªÉu ƒë·ªì ƒë∆∞·ªùng ƒë·ªùi
            createSimplePieChart('lifepath-chart', numerologyResults.birthValue, 'ƒê∆∞·ªùng ƒë·ªùi');
            
            // T·∫°o bi·ªÉu ƒë·ªì s·ª© m·ªánh
            createSimplePieChart('destiny-chart', numerologyResults.finalSum, 'S·ª© m·ªánh');
            
            // T·∫°o bi·ªÉu ƒë·ªì linh h·ªìn
            createSimplePieChart('soul-chart', numerologyResults.soulValue, 'Linh h·ªìn');
            
            // T·∫°o bi·ªÉu ƒë·ªì nh√¢n c√°ch
            createSimplePieChart('personality-chart', numerologyResults.personalityValue, 'Nh√¢n c√°ch');
            
            // T·∫°o bi·ªÉu ƒë·ªì c√¢n b·∫±ng
            createSimplePieChart('balance-chart', numerologyResults.balanceValue, 'C√¢n b·∫±ng');
            
            // T·∫°o bi·ªÉu ƒë·ªì tr∆∞·ªüng th√†nh
            createSimplePieChart('maturity-chart', numerologyResults.maturityValue, 'Tr∆∞·ªüng th√†nh');
            
            // T·∫°o bi·ªÉu ƒë·ªì th√°ch th·ª©c
            const challengesData = [
                { label: 'C1', value: numerologyResults.challenge1 },
                { label: 'C2', value: numerologyResults.challenge2 },
                { label: 'C3', value: numerologyResults.challenge3 },
                { label: 'C4', value: numerologyResults.challenge4 }
            ];
            createSimpleLineChart('challenges-chart', challengesData, 'Th√°ch th·ª©c');
            
            // T·∫°o kim t·ª± th√°p s·ªë h·ªçc
            createNumberPyramid();
            
            // T·∫°o bi·ªÉu ƒë·ªì l·ª•c gi√°c cho tab H√†nh tr√¨nh cu·ªôc ƒë·ªùi
            const hexagonValues = [
                numerologyResults.birthValue,    // ƒê∆∞·ªùng ƒë·ªùi
                numerologyResults.finalSum,      // S·ª© m·ªánh
                numerologyResults.soulValue,     // Linh h·ªìn
                numerologyResults.personalityValue, // Nh√¢n c√°ch
                numerologyResults.balanceValue,  // C√¢n b·∫±ng
                numerologyResults.maturityValue, // Tr∆∞·ªüng th√†nh
                numerologyResults.linkValue,     // Li√™n k·∫øt
                numerologyResults.missingNumbers.length > 0 ? numerologyResults.missingNumbers[0] : 0 // S·ªë thi·∫øu (l·∫•y s·ªë thi·∫øu ƒë·∫ßu ti√™n)
            ];
            createHexagonChart('hexagon-chart', hexagonValues);
            
            // ƒêi·ªÅn n·ªôi dung 8 b∆∞·ªõc k·ªπ thu·∫≠t li√™n k·∫øt
            await populateLifeJourneySteps();
            
            // ƒêi·ªÅn n·ªôi dung 8 b∆∞·ªõc coach ph·ªÖu
            populateCoachFunnelSteps();
            
            // L·∫•y m√¥ t·∫£ t·ª´ AI cho t·ª´ng s·ªë
            getNumberDescription(numerologyResults.birthValue, 'ƒë∆∞·ªùng ƒë·ªùi').then(desc => {
                document.getElementById('lifepath-description').innerHTML = `<p>${desc}</p>`;
            });
            
            getNumberDescription(numerologyResults.finalSum, 's·ª© m·ªánh').then(desc => {
                document.getElementById('destiny-description').innerHTML = `<p>${desc}</p>`;
            });
            
            getNumberDescription(numerologyResults.soulValue, 'linh h·ªìn').then(desc => {
                document.getElementById('soul-description').innerHTML = `<p>${desc}</p>`;
            });
            
            getNumberDescription(numerologyResults.personalityValue, 'nh√¢n c√°ch').then(desc => {
                document.getElementById('personality-description').innerHTML = `<p>${desc}</p>`;
            });
            
            getNumberDescription(numerologyResults.balanceValue, 'c√¢n b·∫±ng').then(desc => {
                document.getElementById('balance-description').innerHTML = `<p>${desc}</p>`;
            });
            
            getNumberDescription(numerologyResults.maturityValue, 'tr∆∞·ªüng th√†nh').then(desc => {
                document.getElementById('maturity-description').innerHTML = `<p>${desc}</p>`;
            });
            
            // M√¥ t·∫£ th√°ch th·ª©c
            const challengesDesc = `
                <div style="margin-top: 20px;">
                    <h4>C√°c ch·∫∑ng v√† th√°ch th·ª©c trong ƒë·ªùi</h4>
                    <p>Ch·∫∑ng 1 (0-${numerologyResults.age1} tu·ªïi): ${numerologyResults.chang1}</p>
                    <p>Th√°ch th·ª©c 1: ${numerologyResults.challenge1}</p>
                    <hr>
                    <p>Ch·∫∑ng 2 (${numerologyResults.age1+1}-${numerologyResults.age2} tu·ªïi): ${numerologyResults.chang2}</p>
                    <p>Th√°ch th·ª©c 2: ${numerologyResults.challenge2}</p>
                    <hr>
                    <p>Ch·∫∑ng 3 (${numerologyResults.age2+1}-${numerologyResults.age3} tu·ªïi): ${numerologyResults.chang3}</p>
                    <p>Th√°ch th·ª©c 3: ${numerologyResults.challenge3}</p>
                    <hr>
                    <p>Ch·∫∑ng 4 (${numerologyResults.age3+1}+ tu·ªïi): ${numerologyResults.chang4}</p>
                    <p>Th√°ch th·ª©c 4: ${numerologyResults.challenge4}</p>
                </div>
            `;
            document.getElementById('challenges-description').innerHTML = challengesDesc;
        }
        // Utility: Tr·∫£ v·ªÅ nh√£n c·ªßa s·ªë ch·ªß
        function getMasterNumberLabel(num) {
            if (num === 11) return "S·ªë ch·ªß Tr·ª±c gi√°c";
            if (num === 22) return "S·ªë ch·ªß X√¢y d·ª±ng";
            if (num === 33) return "S·ªë ch·ªß Thi√™n t√†i";
            
            const labels = [
                "L√£nh ƒë·∫°o", "H√≤a gi·∫£i", "S√°ng t·∫°o", "Th·ª±c ti·ªÖn", 
                "T·ª± do", "Y√™u th∆∞∆°ng", "Hi·ªÉu bi·∫øt", "Quy·ªÅn l·ª±c", "Nh√¢n ƒë·∫°o"
            ];
            
            return labels[(num - 1) % 9];
        }

        // Sau khi t√≠nh to√°n, hi·ªÉn th·ªã n√∫t chi ti·∫øt
        function calculateNumerology() {
            // Gi·ªØ l·∫°i ph·∫ßn m√£ JavaScript ban ƒë·∫ßu c·ªßa b·∫°n ·ªü ƒë√¢y
            const name = removeDiacritics(document.getElementById('name').value);
            const day = parseInt(document.getElementById('birthDay').value);
            const month = parseInt(document.getElementById('birthMonth').value);
            const year = parseInt(document.getElementById('birthYear').value);
            const currentYear = parseInt(document.getElementById('currentYear').value);
            const currentMonth = parseInt(document.getElementById('currentMonth').value);
            const currentDay = parseInt(document.getElementById('currentDay').value);
            

            const { reducedSums, finalSum, soulValue, soulSum, soulDetails, personalityValue, personalityDetails, balanceValue, balanceSum, balanceDetails, lastNameValue, nameValue } = calculateNameValue(name);

            const dayValue = reduceNumber(day);
            const birthValue = calculateBirthValue(day, month, year);

            const maturityValue = reduceNumber(birthValue + finalSum);

            const linkValue = birthValue > finalSum 
                ? reduceNumber(Math.abs(changReduceNumber(birthValue) - finalSum)) 
                : reduceNumber(Math.abs(finalSum - changReduceNumber(birthValue)));

            const personalYear = changReduceNumber(dayValue + month + currentYear);
            const personalMonth = changReduceNumber(personalYear + currentMonth);
            const personalDay = changReduceNumber(personalMonth + currentDay);

            const { challenge1, challenge2, challenge3, challenge4 } = calculateChallenges(day, month, year);
            const { chang1, chang2, chang3, chang4 } = calculateChang(day, month, year);

            const missingNumbers = Array.from({ length: 9 }, (_, i) => i + 1).filter(num => !name.toLowerCase().split('').map(char => letterValues[char] || 0).includes(num));
            const passion = findMostFrequentNumber(name);
            const logicalMind = changReduceNumber(lastNameValue + dayValue);
            const age1 = 36 - changReduceNumber(birthValue);
            const age2 = age1 + 9;
            const age3 = age2 + 9;
            const age4 = age3 + 9;
            const cyear1 = year + age1;
            const cyear2 = cyear1 + 9;
            const cyear3 = cyear2 + 9;
            const cyear4 = cyear3 + 9;
            
            // L∆∞u k·∫øt qu·∫£ v√†o bi·∫øn to√†n c·ª•c
            numerologyResults = {
                birthValue,
                balanceValue,
                finalSum,
                linkValue,
                soulValue,
                maturityValue,
                personalityValue,
                logicalMind,
                missingNumbers,
                passion,
                personalYear,
                personalMonth,
                personalDay,
                chang1,
                chang2,
                chang3,
                chang4,
                challenge1,
                challenge2,
                challenge3,
                challenge4,
                age1,
                age2,
                age3,
                age4,
                cyear1,
                cyear2,
                cyear3,
                cyear4
            };

            // Ph·∫ßn hi·ªÉn th·ªã k·∫øt qu·∫£ ban ƒë·∫ßu c·ªßa b·∫°n (gi·ªØ l·∫°i)
            const results = [
                    { 
                        label: 'ƒê∆∞·ªùng ƒë·ªùi', 
                        value: birthValue,
                        tooltip: `B·∫±ng t·ªïng ng√†y th√°ng nƒÉm sinh:(${day} + ${month} + ${year}) ‚Üí ${reduceNumber(day)} + ${reduceNumber(month)} + ${reduceNumber(year)} = ${birthValue}${[11, 22, 33].includes(birthValue) ? ' (S·ªë ƒë·∫∑c bi·ªát)' : ''}`
                    },
                    {
                        label: 'C√¢n b·∫±ng',
                        value: balanceValue,
                        tooltip: `B·∫±ng t·ªïng c√°c ch·ªØ c√°i ƒë·∫ßu c·ªßa H·ªç v√† t√™n:(${balanceDetails.join(" + ")}) = ${balanceSum} ‚Üí ${balanceValue}${[11, 22, 33].includes(balanceValue) ? ' (S·ªë ƒë·∫∑c bi·ªát)' : ''}`
                    },
                    {
                        label: 'S·ª© m·ªánh',
                        value: finalSum,
                        tooltip: `B·∫±ng t·ªïng h·ªç v√† t√™n: ${name} ‚Üí ${[...name].map(char => `${char}: ${charToNumber(char)}`).join(' + ')} ‚Üí T·ªïng = ${nameValue} ‚Üí ${reduceNumber(nameValue)}${[11, 22, 33].includes(finalSum) ? ' (S·ªë ƒë·∫∑c bi·ªát)' : ''}`
                    },
                    {
                        label: 'Li√™n k·∫øt',
                        value: linkValue,
                        tooltip: birthValue > finalSum 
                            ? `B·∫±ng hi·ªáu ƒë∆∞·ªùng ƒë·ªùi v√† s·ª© m·ªánh:${changReduceNumber(birthValue)} - ${finalSum} ‚Üí ${linkValue}${[11, 22, 33].includes(linkValue) ? ' (S·ªë ƒë·∫∑c bi·ªát)' : ''}`
                            : `B·∫±ng hi·ªáu s·ª© m·ªánh v√† ƒë∆∞·ªùng ƒë·ªùi:${finalSum} - ${changReduceNumber(birthValue)} ‚Üí ${linkValue}${[11, 22, 33].includes(linkValue) ? ' (S·ªë ƒë·∫∑c bi·ªát)' : ''}`
                    },
                    {
                        label: 'Linh h·ªìn',
                        value: reduceNumber(soulValue),
                        tooltip: `(${soulDetails.join(" + ")}) = ${soulSum} ‚Üí ${reduceNumber(soulValue)}${[11, 22, 33].includes(reduceNumber(soulValue)) ? ' (S·ªë ƒë·∫∑c bi·ªát)' : ''}`
                    },
                    {
                        label: 'Tr∆∞·ªüng th√†nh',
                        value: maturityValue,
                        tooltip: `B·∫±ng ƒë∆∞·ªùng ƒë·ªùi + s·ª© m·ªánh:(${birthValue} + ${finalSum}) = ${birthValue + finalSum} ‚Üí ${maturityValue}${[11, 22, 33].includes(maturityValue) ? ' (S·ªë ƒë·∫∑c bi·ªát)' : ''}`
                    },
                    {
                        label: 'Nh√¢n c√°ch',
                        value: personalityValue,
                        tooltip: `B·∫±ng t·ªïng c√°c ph·ª• √¢m ${personalityDetails.join(" + ")} = ${personalityValue}${[11, 22, 33].includes(personalityValue) ? ' (S·ªë ƒë·∫∑c bi·ªát)' : ''}`
                    },
                    {
                        label: 'T∆∞ duy l√Ω tr√≠',
                        value: logicalMind,
                        tooltip: `B·∫±ng t√™n + ng√†y sinh:(${lastNameValue} , ${dayValue}) = ${lastNameValue + dayValue} ‚Üí ${logicalMind}${[11, 22, 33].includes(logicalMind) ? ' (S·ªë ƒë·∫∑c bi·ªát)' : ''}`
                    },
                    {
                        label: 'S·ª©c m·∫°nh ti·ªÅm th·ª©c',
                        value: 9 - missingNumbers.length,
                        tooltip: `S·ª©c m·∫°nh ti·ªÅm th·ª©c b·∫±ng  9 - l∆∞·ª£ng s·ªë thi·∫øu: ${9} - ${missingNumbers.length} ‚Üí ${9 - missingNumbers.length}`
                    },
                    {
                        label: 'Ng√†y sinh',
                        value: dayValue,
                        tooltip: `ng√†y sinh: ${day} = ${splitDigits(day)} ‚Üí ${dayValue}`
                    },
                    {
                        label: 'ƒêam m√™',
                        value: passion,
                        tooltip: `S·ªë hi·ªÉn th·ªã nhi·ªÅu nh·∫•t trong h·ªç v√† t√™n: ${passion}`
                    },
                    {
                        label: 'NƒÉm c√° nh√¢n',
                        value: personalYear,
                        tooltip: `ng√†y sinh + th√°ng sinh + nƒÉm hi·ªán t·∫°i: ${dayValue} + ${month} + ${currentYear} ‚Üí ${personalYear}`
                    },
                    {
                        label: 'Th√°ng c√° nh√¢n',
                        value: personalMonth,
                        tooltip: `B·∫±ng t·ªïng nƒÉm c√° nh√¢n v√† th√°ng hi·ªán t·∫°i: ${personalYear} + ${currentMonth} ‚Üí ${personalMonth}`
                    },
                    {
                        label: 'Ng√†y c√° nh√¢n',
                        value: personalDay,
                        tooltip: `B·∫±ng t·ªïng th√°ng c√° nh√¢n v√† ng√†y hi·ªán t·∫°i: ${personalMonth} + ${currentDay} ‚Üí ${personalDay}`
                    },
                    {
                        label: 'Ch·∫∑ng',
                        value: `${chang1}, ${chang2}, ${chang3}, ${chang4}`,
                        tooltip: `
                            <p><strong>Chi ti·∫øt t√≠nh to√°n:</strong></p>
                            <p>Ch·∫∑ng 1: (${day} + ${month} = ${chang1})</p>
                            <p>Ch·∫∑ng 2: (${day} + ${year} = ${chang2})</p>
                            <p>Ch·∫∑ng 3: (${chang1} + ${chang2} = ${chang3})</p>
                            <p>Ch·∫∑ng 4: (${month} + ${year} = ${chang4})</p>
                            <table border="1" cellspacing="0" cellpadding="5">
                                <tr>
                                    <th>Ch·∫∑ng</th>
                                    <td>${chang1}</td>
                                    <td>${chang2}</td>
                                    <td>${chang3}</td>
                                    <td>${chang4}</td>
                                </tr>
                                <tr>
                                    <th>Th√°ch th·ª©c</th>
                                    <td>${challenge1}</td>
                                    <td>${challenge2}</td>
                                    <td>${challenge3}</td>
                                    <td>${challenge4}</td>
                                </tr>
                                <tr>
                                    <th>Tu·ªïi</th>
                                    <td>0 - ${age1}</td>
                                    <td>${age1 + 1} - ${age2}</td>
                                    <td>${age2 + 1} - ${age3}</td>
                                    <td>${age3 + 1} - ${age4}</td>
                                </tr>
                                <tr>
                                    <th>NƒÉm</th>
                                    <td>${year} - ${cyear1}</td>
                                    <td>${cyear1 + 1} - ${cyear2}</td>
                                    <td>${cyear2 + 1} - ${cyear3}</td>
                                    <td>${cyear3 + 1} - ${cyear4}</td>
                                </tr>
                            </table>
                        `
                    },
                    {
                        label: 'Th√°ch th·ª©c',
                        value: `${challenge1}, ${challenge2}, ${challenge3}, ${challenge4}`,
                        tooltip: `
                            <p><strong>Chi ti·∫øt t√≠nh to√°n:</strong></p>
                            <p>Th√°ch th·ª©c 1: (${day} - ${month} = ${challenge1})</p>
                            <p>Th√°ch th·ª©c 2: (${day} - ${year} = ${challenge2})</p>
                            <p>Th√°ch th·ª©c 3: (${challenge1} - ${challenge2} = ${challenge3})</p>
                            <p>Th√°ch th·ª©c 4: (${month} - ${year} = ${challenge4})</p>
                            <table border="1" cellspacing="0" cellpadding="5">
                                <tr>
                                    <th>Ch·∫∑ng</th>
                                    <td>${chang1}</td>
                                    <td>${chang2}</td>
                                    <td>${chang3}</td>
                                    <td>${chang4}</td>
                                </tr>
                                <tr>
                                    <th>Th√°ch th·ª©c</th>
                                    <td>${challenge1}</td>
                                    <td>${challenge2}</td>
                                    <td>${challenge3}</td>
                                    <td>${challenge4}</td>
                                </tr>
                                <tr>
                                    <th>Tu·ªïi</th>
                                    <td>0 - ${age1}</td>
                                    <td>${age1 + 1} - ${age2}</td>
                                    <td>${age2 + 1} - ${age3}</td>
                                    <td>${age3 + 1} - ${age4}</td>
                                </tr>
                                <tr>
                                    <th>NƒÉm</th>
                                    <td>${year} - ${cyear1}</td>
                                    <td>${cyear1 + 1} - ${cyear2}</td>
                                    <td>${cyear2 + 1} - ${cyear3}</td>
                                    <td>${cyear3 + 1} - ${cyear4}</td>
                                </tr>
                            </table>
                        `
                    },
                    {
                        label: 'S·ªë thi·∫øu',
                        value: missingNumbers.join(', '),
                        tooltip: `S·ªë kh√¥ng c√≥ trong h·ªç v√† t√™n: ${missingNumbers.join(', ')}`
                    }
                ];

                // Hi·ªÉn th·ªã k·∫øt qu·∫£ l√™n giao di·ªán
                document.getElementById('result').innerHTML = results
                    .map(item => {
                        const tooltip = item.tooltip ? `<div class="tooltip-text">${item.tooltip}</div>` : '';
                        return `<div class="result-item tooltip">
                                    <strong>${item.label}:</strong> ${item.value}
                                    ${tooltip}
                                </div>`;
                    })
                    .join('');
            }

            // Sau khi t√≠nh to√°n xong, hi·ªÉn th·ªã n√∫t "Hi·ªÉn th·ªã chi ti·∫øt"
            document.getElementById('show-details-btn').style.display = 'block';
        // H√†m v·∫Ω bi·ªÉu ƒë·ªì l·ª•c gi√°c
        function createHexagonChart(containerId, values) {
            const container = document.getElementById(containerId);
            const size = 300;
            const centerX = size / 2;
            const centerY = size / 2;
            const radius = 100;
            const labels = ['ƒê.ƒë·ªùi', 'S·ª© m·ªánh', 'Linh h·ªìn', 'Nh√¢n c√°ch', 'C√¢n b·∫±ng', 'Tr∆∞·ªüng th√†nh', 'Li√™n k·∫øt', 'S·ªë thi·∫øu'];
            
            let svgContent = `<svg width="${size}" height="${size}" viewBox="0 0 ${size} ${size}">`;
            
            // T√≠nh to√°n c√°c ƒëi·ªÉm c·ªßa l·ª•c gi√°c (8 ƒë·ªânh)
            const points = [];
            const maxValue = 11; // Gi√° tr·ªã t·ªëi ƒëa c·ªßa c√°c ch·ªâ s·ªë (th∆∞·ªùng l√† 11 ho·∫∑c 22, nh∆∞ng chu·∫©n h√≥a v·ªÅ 11 ƒë·ªÉ v·∫Ω)
            for (let i = 0; i < 8; i++) {
                const angle = (Math.PI / 4) * i - Math.PI / 2;
                const value = Math.min(values[i], maxValue); // Gi·ªõi h·∫°n gi√° tr·ªã
                const scaledRadius = (value / maxValue) * radius;
                const x = centerX + scaledRadius * Math.cos(angle);
                const y = centerY + scaledRadius * Math.sin(angle);
                points.push({ x, y });
            }
            
            // V·∫Ω ƒë∆∞·ªùng n·ªëi c√°c ƒëi·ªÉm (l·ª•c gi√°c)
            let pathData = `M ${points[0].x},${points[0].y}`;
            for (let i = 1; i < points.length; i++) {
                pathData += ` L ${points[i].x},${points[i].y}`;
            }
            pathData += ' Z';
            svgContent += `<path d="${pathData}" fill="rgba(138, 43, 226, 0.3)" stroke="#b37aef" stroke-width="2" />`;
            
            // V·∫Ω c√°c ƒë∆∞·ªùng t·ª´ t√¢m ƒë·∫øn c√°c ƒë·ªânh
            for (let i = 0; i < 8; i++) {
                const angle = (Math.PI / 4) * i - Math.PI / 2;
                const x = centerX + radius * Math.cos(angle);
                const y = centerY + radius * Math.sin(angle);
                svgContent += `<line x1="${centerX}" y1="${centerY}" x2="${x}" y2="${y}" stroke="rgba(255, 255, 255, 0.2)" stroke-width="1" />`;
                
                // Th√™m nh√£n cho c√°c ch·ªâ s·ªë
                const labelX = centerX + (radius + 30) * Math.cos(angle);
                const labelY = centerY + (radius + 30) * Math.sin(angle);
                svgContent += `<text x="${labelX}" y="${labelY}" text-anchor="middle" fill="white" font-size="12">${labels[i]}</text>`;
                
                // Th√™m gi√° tr·ªã t·∫°i c√°c ƒë·ªânh
                const valueX = points[i].x;
                const valueY = points[i].y;
                svgContent += `<text x="${valueX}" y="${valueY - 15}" text-anchor="middle" fill="white" font-size="12">${values[i]}</text>`;
            }
            
            // V·∫Ω t√¢m
            svgContent += `<circle cx="${centerX}" cy="${centerY}" r="5" fill="#b37aef" />`;
            
            svgContent += `</svg>`;
            container.innerHTML = svgContent;
        }
        // H√†m hi·ªÉn th·ªã n·ªôi dung 8 b∆∞·ªõc k·ªπ thu·∫≠t li√™n k·∫øt
        async function populateLifeJourneySteps() {
            const container = document.getElementById('life-journey-steps');
            if (!numerologyResults) {
                container.innerHTML = '<p>Vui l√≤ng t√≠nh to√°n c√°c ch·ªâ s·ªë tr∆∞·ªõc khi xem h√†nh tr√¨nh!</p>';
                return;
            }

            const steps = [];

            // B1: Xu·∫•t ph√°t t·ª´ ch·ªâ s·ªë linh h·ªìn
            const soulDesc = await getNumberDescription(numerologyResults.soulValue, 'linh h·ªìn');
            steps.push(`
                <h4>B∆∞·ªõc 1: Kh√°t khao s√¢u th·∫≥m b√™n trong b·∫°n (Ch·ªâ s·ªë Linh h·ªìn)</h4>
                <p>Ch√∫c m·ª´ng b·∫°n! Ch·ªâ s·ªë Linh h·ªìn c·ªßa b·∫°n l√† <strong>${numerologyResults.soulValue}</strong>. ƒê√¢y l√† kh√°t khao s√¢u th·∫≥m b√™n trong b·∫°n, ƒëi·ªÅu m√† b·∫°n lu√¥n khao kh√°t ƒë·∫°t ƒë∆∞·ª£c trong cu·ªôc ƒë·ªùi.</p>
                <p>${soulDesc}</p>
            `);

            // B2: C·∫ßn t·ªët nghi·ªáp b√†i h·ªçc (Ch·ªâ s·ªë ƒê∆∞·ªùng ƒë·ªùi)
            const lifepathDesc = await getNumberDescription(numerologyResults.birthValue, 'ƒë∆∞·ªùng ƒë·ªùi');
            steps.push(`
                <h4>B∆∞·ªõc 2: Tr·ªü th√†nh ng∆∞·ªùi b·∫°n c·∫ßn (Ch·ªâ s·ªë ƒê∆∞·ªùng ƒë·ªùi)</h4>
                <p>Tr√™n h√†nh tr√¨nh ƒë√≥, b·∫°n c·∫ßn tr·ªü th√†nh m·ªôt ng∆∞·ªùi ph√π h·ª£p v·ªõi b√†i h·ªçc c·ªßa ch·ªâ s·ªë ƒê∆∞·ªùng ƒë·ªùi: <strong>${numerologyResults.birthValue}</strong>.</p>
                <p>${lifepathDesc}</p>
            `);

            // B3: T·ªët nghi·ªáp ch·ªâ s·ªë Li√™n k·∫øt
            const linkDesc = await getNumberDescription(numerologyResults.linkValue, 'li√™n k·∫øt');
            steps.push(`
                <h4>B∆∞·ªõc 3: T·ªët nghi·ªáp b√†i h·ªçc Li√™n k·∫øt</h4>
                <p>ƒê·ªÉ l√†m ƒë∆∞·ª£c ƒëi·ªÅu ƒë√≥, b·∫°n c·∫ßn t·ªët nghi·ªáp b√†i h·ªçc c·ªßa ch·ªâ s·ªë Li√™n k·∫øt: <strong>${numerologyResults.linkValue}</strong>.</p>
                <p>${linkDesc}</p>
            `);

            // B4: Ho√†n th√†nh S·ª© m·ªánh
            const destinyDesc = await getNumberDescription(numerologyResults.finalSum, 's·ª© m·ªánh');
            steps.push(`
                <h4>B∆∞·ªõc 4: Ho√†n th√†nh S·ª© m·ªánh c·ªßa b·∫°n</h4>
                <p>Khi v∆∞·ª£t qua ƒë∆∞·ª£c b√†i h·ªçc li√™n k·∫øt, b·∫°n s·∫Ω ho√†n th√†nh s·ª© m·ªánh c·ªßa m√¨nh v·ªõi ch·ªâ s·ªë S·ª© m·ªánh: <strong>${numerologyResults.finalSum}</strong>.</p>
                <p>${destinyDesc}</p>
            `);

            // B5: T·ªët nghi·ªáp ch·ªâ s·ªë thi·∫øu
            steps.push(`
                <h4>B∆∞·ªõc 5: T·ªët nghi·ªáp ch·ªâ s·ªë thi·∫øu</h4>
                <p>Ngo√†i ra, b·∫°n c·∫ßn ch√∫ √Ω ƒë·∫øn c√°c ch·ªâ s·ªë thi·∫øu: <strong>${numerologyResults.missingNumbers.join(', ')}</strong>.</p>
                <p>Nh·ªØng con s·ªë n√†y ƒë·∫°i di·ªán cho c√°c k·ªπ nƒÉng v√† ngu·ªìn l·ª±c b·∫°n c·∫ßn ph√°t tri·ªÉn. H√£y t·∫≠p trung c·∫£i thi·ªán nh·ªØng kh√≠a c·∫°nh n√†y ƒë·ªÉ c√¢n b·∫±ng nƒÉng l∆∞·ª£ng c·ªßa b·∫°n.</p>
            `);

            // B6: Chia s·∫ª ch·ªâ s·ªë Ch·∫∑ng/Th√°ch th·ª©c hi·ªán t·∫°i
            const currentYear = new Date().getFullYear();
            let currentStage = '';
            let currentChallenge = '';
            if (currentYear <= numerologyResults.cyear1) {
                currentStage = numerologyResults.chang1;
                currentChallenge = numerologyResults.challenge1;
            } else if (currentYear <= numerologyResults.cyear2) {
                currentStage = numerologyResults.chang2;
                currentChallenge = numerologyResults.challenge2;
            } else if (currentYear <= numerologyResults.cyear3) {
                currentStage = numerologyResults.chang3;
                currentChallenge = numerologyResults.challenge3;
            } else {
                currentStage = numerologyResults.chang4;
                currentChallenge = numerologyResults.challenge4;
            }
            const stageDesc = await getNumberDescription(currentStage, 'ch·∫∑ng hi·ªán t·∫°i');
            const challengeDesc = await getNumberDescription(currentChallenge, 'th√°ch th·ª©c hi·ªán t·∫°i');
            steps.push(`
                <h4>B∆∞·ªõc 6: Ch·∫∑ng v√† Th√°ch th·ª©c hi·ªán t·∫°i</h4>
                <p>Hi·ªán t·∫°i, b·∫°n ƒëang ·ªü ch·∫∑ng: <strong>${currentStage}</strong> v·ªõi th√°ch th·ª©c: <strong>${currentChallenge}</strong>.</p>
                <p><strong>Ch·∫∑ng hi·ªán t·∫°i:</strong> ${stageDesc}</p>
                <p><strong>Th√°ch th·ª©c hi·ªán t·∫°i:</strong> ${challengeDesc}</p>
            `);

            // B7: ƒê·ªãnh h∆∞·ªõng ngh·ªÅ nghi·ªáp qua ch·ªâ s·ªë Tr∆∞·ªüng th√†nh
            const maturityDesc = await getNumberDescription(numerologyResults.maturityValue, 'tr∆∞·ªüng th√†nh');
            steps.push(`
                <h4>B∆∞·ªõc 7: ƒê·ªãnh h∆∞·ªõng ngh·ªÅ nghi·ªáp (Ch·ªâ s·ªë Tr∆∞·ªüng th√†nh)</h4>
                <p>Ch·ªâ s·ªë Tr∆∞·ªüng th√†nh c·ªßa b·∫°n l√†: <strong>${numerologyResults.maturityValue}</strong>. ƒê√¢y l√† ƒë·ªãnh h∆∞·ªõng ngh·ªÅ nghi·ªáp v√† s·ª± ph√°t tri·ªÉn l√¢u d√†i c·ªßa b·∫°n.</p>
                <p>${maturityDesc}</p>
            `);

            // B8: Ch√∫c m·ª´ng v√† xin c·∫£m nh·∫≠n
            steps.push(`
                <h4>B∆∞·ªõc 8: Ch√∫c m·ª´ng b·∫°n!</h4>
                <p>Ch√∫c m·ª´ng b·∫°n ƒë√£ nh√¨n th·∫•y h√†nh tr√¨nh cu·ªôc ƒë·ªùi c·ªßa m√¨nh! B·∫°n c·∫£m nh·∫≠n nh∆∞ th·∫ø n√†o v·ªÅ h√†nh tr√¨nh n√†y? H√£y chia s·∫ª c·∫£m nh·∫≠n c·ªßa b·∫°n nh√©!</p>
            `);

            container.innerHTML = steps.join('');
        }
        // H√†m hi·ªÉn th·ªã n·ªôi dung 8 b∆∞·ªõc coach ph·ªÖu
        function populateCoachFunnelSteps() {
            const container = document.getElementById('coach-funnel-steps');
            const steps = [];

            // B1: Ch√†o h·ªèi
            steps.push(`
                <h4>B∆∞·ªõc 1: Ch√†o h·ªèi v√† t·∫°o thi·ªán c·∫£m</h4>
                <p>Xin ch√†o b·∫°n! M√¨nh r·∫•t vui ƒë∆∞·ª£c g·∫∑p b·∫°n h√¥m nay. B·∫°n c√≥ th·ªÉ chia s·∫ª m·ªôt ch√∫t v·ªÅ c√¥ng vi·ªác, gia ƒë√¨nh v√† cu·ªôc s·ªëng hi·ªán t·∫°i c·ªßa b·∫°n kh√¥ng? M√¨nh mu·ªën t√¨m hi·ªÉu th√™m ƒë·ªÉ c√≥ th·ªÉ h·ªó tr·ª£ b·∫°n t·ªët nh·∫•t.</p>
            `);

            // B2: Gi·ªõi thi·ªáu b·∫£n th√¢n
            steps.push(`
                <h4>B∆∞·ªõc 2: Gi·ªõi thi·ªáu b·∫£n th√¢n</h4>
                <p>M√¨nh l√† chuy√™n gia Life Coach c·ªßa Gein Academy, ƒë·ªìng th·ªùi l√† chuy√™n vi√™n ph√°t tri·ªÉn b·∫£n th√¢n. H√¥m nay, ch√∫ng ta c√≥ duy√™n g·∫∑p nhau, m√¨nh c√≥ th·ªÉ d√†nh 10 ph√∫t ƒë·ªÉ chia s·∫ª v·ªÅ h√†nh tr√¨nh cu·ªôc ƒë·ªùi c·ªßa b·∫°n kh√¥ng? N·∫øu b·∫°n b·∫≠n, ch√∫ng ta c√≥ th·ªÉ h·∫πn l·∫°i sau nh√©!</p>
            `);

            // B3: H·ªèi v·ªÅ Th·∫ßn s·ªë h·ªçc (TSH) ho·∫∑c Map For Success (MFS)
            steps.push(`
                <h4>B∆∞·ªõc 3: T√¨m hi·ªÉu v·ªÅ hi·ªÉu bi·∫øt c·ªßa b·∫°n v·ªõi Th·∫ßn s·ªë h·ªçc</h4>
                <p>B·∫°n ƒë√£ t·ª´ng nghe v·ªÅ Th·∫ßn s·ªë h·ªçc (TSH) ho·∫∑c Map For Success (MFS) ch∆∞a? N·∫øu c√≥, b·∫°n bi·∫øt qua ƒë√¢u? N·∫øu ch∆∞a, m√¨nh s·∫Ω chia s·∫ª th√™m cho b·∫°n nh√©!</p>
                <p>M√¨nh c√≥ m·ªôt nƒÉng l·ª±c c·∫£m nh·∫≠n ƒë·∫∑c bi·ªát v√† ƒë√£ chi√™m nghi·ªám r·∫•t s√¢u v·ªÅ Th·∫ßn s·ªë h·ªçc. M√¨nh ƒë·ªÅ ngh·ªã b·∫°n ghi √¢m phi√™n coach n√†y ƒë·ªÉ c√≥ th·ªÉ nghe l·∫°i v√† c·∫£m nh·∫≠n s·ª± kh√°c bi·ªát.</p>
            `);

            // B4: H·ªèi th√¥ng tin c·ªßa kh√°ch h√†ng
            steps.push(`
                <h4>B∆∞·ªõc 4: X√°c nh·∫≠n th√¥ng tin c·ªßa b·∫°n</h4>
                <p>M√¨nh ƒë√£ c√≥ th√¥ng tin c·ªßa b·∫°n: H·ªç t√™n, ng√†y th√°ng nƒÉm sinh. B·∫°n c√≥ mu·ªën m√¨nh ph√¢n t√≠ch th√™m v·ªÅ h√†nh tr√¨nh cu·ªôc ƒë·ªùi c·ªßa b·∫°n kh√¥ng?</p>
            `);

            // B5: Chia s·∫ª tam gi√°c v√†ng
            steps.push(`
                <h4>B∆∞·ªõc 5: Chia s·∫ª tam gi√°c v√†ng</h4>
                <p>Ch√∫c m·ª´ng b·∫°n! Ch·ªâ s·ªë ƒê∆∞·ªùng ƒë·ªùi c·ªßa b·∫°n l√† <strong>${numerologyResults.birthValue}</strong>. ƒê√¢y l√† ch·ªâ s·ªë chi·∫øm 50% t√≠nh c√°ch v√† b√†i h·ªçc c·ªßa b·∫°n. Ch·ªâ s·ªë Li√™n k·∫øt c·ªßa b·∫°n l√† <strong>${numerologyResults.linkValue}</strong>, th·ªÉ hi·ªán c·∫ßu n·ªëi gi·ªØa ƒê∆∞·ªùng ƒë·ªùi v√† S·ª© m·ªánh.</p>
            `);

            // B6: ƒê·ªãnh h∆∞·ªõng ngh·ªÅ nghi·ªáp
            steps.push(`
                <h4>B∆∞·ªõc 6: ƒê·ªãnh h∆∞·ªõng ngh·ªÅ nghi·ªáp</h4>
                <p>D·ª±a tr√™n ch·ªâ s·ªë NƒÉm c√° nh√¢n (<strong>${numerologyResults.personalYear}</strong>) v√† Th√°ng c√° nh√¢n (<strong>${numerologyResults.personalMonth}</strong>), b·∫°n ƒëang ·ªü giai ƒëo·∫°n ph√°t tri·ªÉn nƒÉng l·ª±c t√≠ch c·ª±c. ƒê√¢y l√† th·ªùi ƒëi·ªÉm ƒë·ªÉ b·∫°n t·∫≠p trung v√†o nh·ªØng ph·∫©m ch·∫•t t·ªët ƒë·∫πp v√† ph√°t tri·ªÉn b·∫£n th√¢n.</p>
            `);

            // B7: Gi·ªõi thi·ªáu v·ªÅ MFS
            steps.push(`
                <h4>B∆∞·ªõc 7: Gi·ªõi thi·ªáu v·ªÅ Map For Success (MFS)</h4>
                <p>MFS l√† m·ªôt c√¥ng c·ª• gi√∫p b·∫°n v·∫Ω ra b·ª©c tranh cu·ªôc ƒë·ªùi, t·ª´ ƒë√≥ t√¨m ra h∆∞·ªõng ƒëi ƒë√∫ng ƒë·∫Øn. C√≥ m·ªôt kh√°ch h√†ng c·ªßa m√¨nh, sau khi s·ª≠ d·ª•ng MFS, ƒë√£ chuy·ªÉn h√≥a t·ª´ m·ªôt ng∆∞·ªùi thi·∫øu ƒë·ªãnh h∆∞·ªõng th√†nh m·ªôt ng∆∞·ªùi t·ª± tin, th√†nh c√¥ng trong s·ª± nghi·ªáp. B·∫°n c√≥ mu·ªën s·ªü h·ªØu m·ªôt t·∫•m b·∫£n ƒë·ªì nh∆∞ v·∫≠y kh√¥ng?</p>
            `);

            // B8: Trao gi√° tr·ªã c·ªßa MFS
            steps.push(`
                <h4>B∆∞·ªõc 8: Trao gi√° tr·ªã c·ªßa MFS</h4>
                <ul>
                    <li>B·∫°n s·∫Ω nh·∫≠n ƒë∆∞·ª£c 1 t·∫•m b·∫£n ƒë·ªì c·ª©ng v√† 1 b·∫£n m·ªÅm.</li>
                    <li>ƒê∆∞·ª£c coach 3-4 gi·ªù ƒë·ªÉ hi·ªÉu r√µ h√†nh tr√¨nh c·ªßa m√¨nh.</li>
                    <li>V·∫Ω b·ª©c tranh cu·ªôc ƒë·ªùi trong t∆∞∆°ng lai.</li>
                    <li>ƒê∆∞·ª£c ƒë·ªìng h√†nh t·ª´ 3-6 th√°ng ƒë·∫øn 1 nƒÉm.</li>
                    <li>C√≥ gi·∫£i ph√°p h√†nh tr√¨nh t·∫©y h·∫°t, tr·∫£ nghi·ªáp ƒë·ªÉ chuy·ªÉn h√≥a.</li>
                </ul>
                <p>Ch√∫ng m√¨nh kh√¥ng ch·ªâ b√°n Th·∫ßn s·ªë h·ªçc, m√† b√°n s·ª± chuy·ªÉn h√≥a c·ªßa b·∫°n. N·∫øu b·∫°n cam k·∫øt ƒë·ªìng h√†nh c√πng m√¨nh trong 9 ng√†y, m√¨nh s·∫Ω d·ªìn h·∫øt s·ª©c ƒë·ªÉ gi√∫p b·∫°n!</p>
            `);

            container.innerHTML = steps.join('');
        }
    </script>
</body>
</html>
